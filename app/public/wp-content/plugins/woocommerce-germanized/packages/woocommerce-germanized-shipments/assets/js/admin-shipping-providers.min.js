window.germanized=window.germanized||{},window.germanized.admin=window.germanized.admin||{},function(d){window.germanized.admin.shipping_providers={params:{},$wrapper:"",init:function(){var e=germanized.admin.shipping_providers;e.params=wc_gzd_admin_shipping_providers_params,e.$wrapper=d(".wc-gzd-shipping-providers"),d(document).on("click",".wc-gzd-shipping-provider-delete",e.onRemoveProvider).on("change",".wc-gzd-shipping-providers input.wc-gzd-shipping-provider-activated-checkbox",this.onChangeProviderStatus)},onChangeProviderStatus:function(){var e=germanized.admin.shipping_providers,i=d(this),r=e.getProviderName(i),n=i.parents("td").find(".woocommerce-gzd-input-toggle"),o={action:"woocommerce_gzd_edit_shipping_provider_status",enable:i.is(":checked")?"yes":"no",provider:r};window.onbeforeunload="",n.addClass("woocommerce-input-toggle--loading"),e.doAjax(o,e.onChangeProviderStatusSucess)},onChangeProviderStatusSucess:function(e){var i=germanized.admin.shipping_providers.$wrapper.find('tr[data-shipping-provider="'+e.provider+'"]').find(".woocommerce-gzd-input-toggle");i.removeClass("woocommerce-input-toggle--loading"),i.removeClass("woocommerce-input-toggle--enabled, woocommerce-input-toggle--disabled"),"yes"===e.activated?i.addClass("woocommerce-input-toggle--enabled"):i.addClass("woocommerce-input-toggle--disabled")},getProviderName:function(e){germanized.admin.shipping_providers;return e.data("shipping-provider")?e.data("shipping-provider"):0<e.parents("tr").length&&e.parents("tr").data("shipping-provider")},onRemoveProvider:function(){var e=germanized.admin.shipping_providers,i=e.getProviderName(d(this));return i&&window.confirm(e.getParams().i18n_remove_shipping_provider_notice)&&e.removeProvider(i),!1},removeProvider:function(e){var i=germanized.admin.shipping_providers,r={action:"woocommerce_gzd_remove_shipping_provider",provider:e,security:i.getParams().remove_shipping_provider_nonce};i.block(),i.doAjax(r,i.onRemoveProviderSuccess)},onRemoveProviderSuccess:function(e){var i=germanized.admin.shipping_providers.$wrapper.find('tr[data-shipping-provider="'+e.provider+'"]');0<i.length&&i.remove()},block:function(){germanized.admin.shipping_providers.$wrapper.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){germanized.admin.shipping_providers.$wrapper.unblock()},doAjax:function(e,i,r){var n=germanized.admin.shipping_providers,o=n.params.ajax_url,a=n.$wrapper;i=i||n.onAjaxSuccess,r=r||n.onAjaxError,e.hasOwnProperty("security")||(e.security=n.params.edit_shipping_providers_nonce),d.ajax({type:"POST",url:o,data:e,success:function(e){e.success?i.apply(a,[e]):r.apply(a,[e]),n.unblock()},error:function(e){r.apply(a,[e])},dataType:"json"})},onAjaxError:function(e){},onAjaxSuccess:function(e){},getParams:function(){return germanized.admin.shipping_providers.params}},d(document).ready(function(){germanized.admin.shipping_providers.init()})}(jQuery);