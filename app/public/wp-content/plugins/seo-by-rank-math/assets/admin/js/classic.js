!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=75)}([function(e,t){e.exports=wp.i18n},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.data},function(e,t){e.exports=lodash},function(e,t){e.exports=jQuery},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp.compose},function(e,t){e.exports=wp.hooks},function(e,t){e.exports=rankMathAnalyzer},function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)){if(a.length){var o=r.apply(null,a);o&&e.push(o)}}else if("object"===i)if(a.toString===Object.prototype.toString)for(var s in a)n.call(a,s)&&a[s]&&e.push(s);else e.push(a.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n.n(a);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=null}var t,n,a;return t=e,(n=[{key:"swap",value:function(e,t){var n=this;if(!(e=e||""))return"";var a=new RegExp(/%(([a-z0-9_-]+)\(([^)]*)\)|[^\s]+)%/,"giu");return e.replace(" %page%","").replace("%sep% %sep%","%sep%").replace(a,(function(e){return n.replace(t,e)})).trim()}},{key:"replace",value:function(e,t){var n=t.toLowerCase().slice(1,-1);return["term_description","user_description"].includes(n)?"undefined"!=typeof tinymce&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():r()("#description").val():n.includes("customfield(")?(n=n.replace("customfield(","").replace(")",""))in rankMath.customFields?rankMath.customFields[n]:"":(e=e||this.getMap(),(n="seo_description"===(n="seo_title"===(n=n.includes("(")?n.split("(")[0]:n)?"title":n)?"excerpt":n)in e?e[n]:"")}},{key:"getMap",value:function(){var e=this;return null!==this.map||(this.map={},r.a.each(rankMath.variables,(function(t,n){t=t.toLowerCase().replace(/%+/g,"").split("(")[0],e.map[t]=n.example}))),this.map}},{key:"setVariable",value:function(e,t){null!==this.map?this.map[e]=t:void 0!==rankMath.variables[e]&&(rankMath.variables[e].example=t)}}])&&i(t.prototype,n),a&&i(t,a),e}())},function(e,t){e.exports=wp.url},,function(e,t){e.exports=wp.apiFetch},function(e,t,n){"use strict";var a=document.createElement("div");t.a=function(e){return e&&"string"==typeof e&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"").replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),a.innerHTML=e,e=a.textContent,a.textContent=""),e}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return Sn}));var a={};n.r(a),n.d(a,"updateKeywords",(function(){return p})),n.d(a,"updatePillarContent",(function(){return d})),n.d(a,"toggleFrontendScore",(function(){return h})),n.d(a,"updateAnalysisScore",(function(){return m})),n.d(a,"updateCanonicalUrl",(function(){return g})),n.d(a,"updateAdvancedRobots",(function(){return f})),n.d(a,"updateRobots",(function(){return b})),n.d(a,"updateBreadcrumbTitle",(function(){return v})),n.d(a,"resetDirtyMetadata",(function(){return w})),n.d(a,"updateFacebookTitle",(function(){return y})),n.d(a,"updateFacebookDescription",(function(){return k})),n.d(a,"updateFacebookImage",(function(){return O})),n.d(a,"updateFacebookImageID",(function(){return _})),n.d(a,"updateFacebookHasOverlay",(function(){return T})),n.d(a,"updateFacebookImageOverlay",(function(){return E})),n.d(a,"updateAppData",(function(){return c})),n.d(a,"updateAppUi",(function(){return u})),n.d(a,"updatePostID",(function(){return j})),n.d(a,"updatePermalink",(function(){return S})),n.d(a,"updateTitle",(function(){return D})),n.d(a,"updateDescription",(function(){return I})),n.d(a,"updateFeaturedImage",(function(){return C})),n.d(a,"updatePrimaryTermID",(function(){return x})),n.d(a,"updateRedirection",(function(){return M})),n.d(a,"updateRedirectionItem",(function(){return N})),n.d(a,"resetRedirection",(function(){return A})),n.d(a,"updateHasRedirect",(function(){return P})),n.d(a,"updateSerpTitle",(function(){return H})),n.d(a,"updateSerpSlug",(function(){return V})),n.d(a,"updateSerpDescription",(function(){return z})),n.d(a,"toggleSnippetEditor",(function(){return K})),n.d(a,"updateSnippetPreviewType",(function(){return G})),n.d(a,"toggleTrendsCta",(function(){return W})),n.d(a,"updateTwitterUseFacebook",(function(){return $})),n.d(a,"updateTwitterCardType",(function(){return q})),n.d(a,"updateTwitterTitle",(function(){return Y})),n.d(a,"updateTwitterDescription",(function(){return J})),n.d(a,"updateTwitterAuthor",(function(){return X})),n.d(a,"updateTwitterImageID",(function(){return Z})),n.d(a,"updateTwitterImage",(function(){return Q})),n.d(a,"updateTwitterHasOverlay",(function(){return ee})),n.d(a,"updateTwitterImageOverlay",(function(){return te})),n.d(a,"updateTwitterPlayerUrl",(function(){return ne})),n.d(a,"updateTwitterPlayerSize",(function(){return ae})),n.d(a,"updateTwitterPlayerStreamUrl",(function(){return re})),n.d(a,"updateTwitterPlayerStreamCtype",(function(){return ie})),n.d(a,"updateTwitterAppDescription",(function(){return oe})),n.d(a,"updateTwitterAppIphoneID",(function(){return se})),n.d(a,"updateTwitterAppIphoneName",(function(){return le})),n.d(a,"updateTwitterAppIphoneUrl",(function(){return ce})),n.d(a,"updateTwitterAppIpadID",(function(){return ue})),n.d(a,"updateTwitterAppIpadName",(function(){return pe})),n.d(a,"updateTwitterAppIpadUrl",(function(){return de})),n.d(a,"updateTwitterAppGoogleplayID",(function(){return he})),n.d(a,"updateTwitterAppGoogleplayName",(function(){return me})),n.d(a,"updateTwitterAppGoogleplayUrl",(function(){return ge})),n.d(a,"updateTwitterAppCountry",(function(){return fe})),n.d(a,"toggleLoaded",(function(){return be})),n.d(a,"updateSelectedKeyword",(function(){return ve})),n.d(a,"refreshResults",(function(){return we})),n.d(a,"setVersion",(function(){return ye})),n.d(a,"toggleIsDiviPageSettingsBarActive",(function(){return ke})),n.d(a,"toggleIsDiviRankMathModalActive",(function(){return Oe})),n.d(a,"toggleSchemaEditor",(function(){return Ie})),n.d(a,"toggleSchemaTemplates",(function(){return Ce})),n.d(a,"schemaUpdated",(function(){return xe})),n.d(a,"setEditingSchemaId",(function(){return Me})),n.d(a,"setEditorTab",(function(){return Ne})),n.d(a,"setTemplateTab",(function(){return Ae})),n.d(a,"updateEditSchemas",(function(){return Pe})),n.d(a,"updateSchemas",(function(){return Re})),n.d(a,"updateEditSchema",(function(){return Le})),n.d(a,"saveSchema",(function(){return Fe})),n.d(a,"deleteSchema",(function(){return Ue})),n.d(a,"saveTemplate",(function(){return Be})),n.d(a,"updateKeywordsData",(function(){return He})),n.d(a,"updateAIScore",(function(){return Ve}));var r={};n.r(r),n.d(r,"appData",(function(){return Ye})),n.d(r,"appUi",(function(){return et}));var i={};n.r(i),n.d(i,"getAppData",(function(){return tt})),n.d(i,"getDirtyMetadata",(function(){return nt})),n.d(i,"getAnalysisScore",(function(){return at})),n.d(i,"getKeywords",(function(){return rt})),n.d(i,"getPillarContent",(function(){return it})),n.d(i,"getRobots",(function(){return ot})),n.d(i,"getAdvancedRobots",(function(){return st})),n.d(i,"getCanonicalUrl",(function(){return lt})),n.d(i,"getBreadcrumbTitle",(function(){return ct})),n.d(i,"getRichSnippets",(function(){return ut})),n.d(i,"getShowScoreFrontend",(function(){return pt})),n.d(i,"isLoaded",(function(){return dt})),n.d(i,"getSelectedKeyword",(function(){return ht})),n.d(i,"isRefreshing",(function(){return mt})),n.d(i,"isPro",(function(){return gt})),n.d(i,"isDiviPageSettingsBarActive",(function(){return ft})),n.d(i,"isDiviRankMathModalActive",(function(){return bt})),n.d(i,"getFacebookTitle",(function(){return vt})),n.d(i,"getFacebookDescription",(function(){return wt})),n.d(i,"getFacebookAuthor",(function(){return yt})),n.d(i,"getFacebookImageID",(function(){return kt})),n.d(i,"getFacebookImage",(function(){return Ot})),n.d(i,"getFacebookHasOverlay",(function(){return _t})),n.d(i,"getFacebookImageOverlay",(function(){return Tt})),n.d(i,"getPostID",(function(){return Et})),n.d(i,"getTitle",(function(){return jt})),n.d(i,"getPermalink",(function(){return St})),n.d(i,"getDescription",(function(){return Dt})),n.d(i,"getFeaturedImage",(function(){return It})),n.d(i,"getFeaturedImageHtml",(function(){return Ct})),n.d(i,"getPrimaryTermID",(function(){return xt})),n.d(i,"getRedirectionID",(function(){return Mt})),n.d(i,"getRedirectionType",(function(){return Nt})),n.d(i,"getRedirectionUrl",(function(){return At})),n.d(i,"getRedirectionItem",(function(){return Pt})),n.d(i,"hasRedirect",(function(){return Rt})),n.d(i,"getSerpTitle",(function(){return Ft})),n.d(i,"getSerpSlug",(function(){return Ut})),n.d(i,"getSerpDescription",(function(){return Bt})),n.d(i,"isSnippetEditorOpen",(function(){return Ht})),n.d(i,"getSnippetPreviewType",(function(){return Vt})),n.d(i,"isTrendsCtaOpen",(function(){return zt})),n.d(i,"isSchemaEditorOpen",(function(){return Kt})),n.d(i,"isSchemaTemplatesOpen",(function(){return Gt})),n.d(i,"hasSchemaUpdated",(function(){return Wt})),n.d(i,"getSchemas",(function(){return $t})),n.d(i,"getEditSchemas",(function(){return qt})),n.d(i,"getEditingSchema",(function(){return Yt})),n.d(i,"getPreviewSchema",(function(){return Jt})),n.d(i,"getEditorTab",(function(){return Xt})),n.d(i,"getTemplateTab",(function(){return Zt})),n.d(i,"getTwitterUseFacebook",(function(){return Qt})),n.d(i,"getTwitterCardType",(function(){return en})),n.d(i,"getTwitterTitle",(function(){return tn})),n.d(i,"getTwitterDescription",(function(){return nn})),n.d(i,"getTwitterAuthor",(function(){return an})),n.d(i,"getTwitterImageID",(function(){return rn})),n.d(i,"getTwitterImage",(function(){return on})),n.d(i,"getTwitterHasOverlay",(function(){return sn})),n.d(i,"getTwitterImageOverlay",(function(){return ln})),n.d(i,"getTwitterAppDescription",(function(){return cn})),n.d(i,"getTwitterAppIphoneID",(function(){return un})),n.d(i,"getTwitterAppIphoneName",(function(){return pn})),n.d(i,"getTwitterAppIphoneUrl",(function(){return dn})),n.d(i,"getTwitterAppIpadID",(function(){return hn})),n.d(i,"getTwitterAppIpadName",(function(){return mn})),n.d(i,"getTwitterAppIpadUrl",(function(){return gn})),n.d(i,"getTwitterAppGoogleplayID",(function(){return fn})),n.d(i,"getTwitterAppGoogleplayName",(function(){return bn})),n.d(i,"getTwitterAppGoogleplayUrl",(function(){return vn})),n.d(i,"getTwitterAppCountry",(function(){return wn})),n.d(i,"getTwitterPlayerUrl",(function(){return yn})),n.d(i,"getTwitterPlayerSize",(function(){return kn})),n.d(i,"getTwitterPlayerStream",(function(){return On})),n.d(i,"getTwitterPlayerStreamCtype",(function(){return _n})),n.d(i,"getKeywordsData",(function(){return Tn})),n.d(i,"getContentAIScore",(function(){return En}));var o=n(2),s=n(10),l=n(7);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t=Object(l.applyFilters)("rank_math_sanitize_data",t,e,n),null!==a&&(a=Object(l.applyFilters)("rank_math_sanitize_meta_value",a,e,n)),a=null===a?t:a,Object(l.doAction)("rank_math_data_changed",e,t,n),{type:"RANK_MATH_APP_DATA",key:e,value:t,metaKey:n,metaValue:a}}function u(e,t){return Object(l.doAction)("rank_math_update_app_ui",e,t),{type:"RANK_MATH_APP_UI",key:e,value:t}}function p(e){return s.a.setVariable("focuskw",e.split(",")[0]),rankMathEditor.refresh("keyword"),c("keywords",e,"rank_math_focus_keyword")}function d(e){return c("pillarContent",e,"rank_math_pillar_content",!0===e?"on":"off")}function h(e){return c("showScoreFrontend",e,"rank_math_dont_show_seo_score",!0===e?"off":"on")}function m(e){return c("score",e,"rank_math_seo_score")}function g(e){return c("canonicalUrl",e,"rank_math_canonical_url")}function f(e){return c("advancedRobots",e,"rank_math_advanced_robots")}function b(e){return c("robots",e,"rank_math_robots",Object.keys(e))}function v(e){return c("breadcrumbTitle",e,"rank_math_breadcrumb_title")}function w(){return c("dirtyMetadata",{})}function y(e){return c("facebookTitle",e,"rank_math_facebook_title")}function k(e){return c("facebookDescription",e,"rank_math_facebook_description")}function O(e){return c("facebookImage",e,"rank_math_facebook_image")}function _(e){return c("facebookImageID",e,"rank_math_facebook_image_id")}function T(e){return c("facebookHasOverlay",e,"rank_math_facebook_enable_image_overlay",!0===e?"on":"off")}function E(e){return c("facebookImageOverlay",e,"rank_math_facebook_image_overlay")}function j(e){return rankMath.objectID=e,c("postID",e)}function S(e){return c("permalink",e,"permalink")}function D(e){return c("title",e,"rank_math_title")}function I(e){return c("description",e,"rank_math_description")}function C(e){return c("featuredImage",e)}function x(e,t){return c("primaryTerm",parseInt(e),"rank_math_primary_"+t)}function M(e,t){return c(e,t)}function N(e){return u("redirectionItem",e)}function A(){return u("redirectionItem",{})}function P(e){return u("hasRedirect",e)}var R=n(8),L=n(3),F=n(14),U=function(e,t){return e=(e=R.Helpers.cleanText(e)).replace(/\r?\n|\r/g," "),t?Object(L.truncate)(e,{length:t,separator:" "}):e},B=function(e){var t=rankMathEditor.assessor.dataCollector.getData(),n=t.excerpt,a=t.content?function(e){if(Object(L.isEmpty)(e))return"";e=Object(L.unescape)(e).replace(/\[caption[^\]]*\](.*)\[\/caption\]/g,"");var t=Object(L.filter)(R.Helpers.matchParagraphs(e,!0,!0),(function(e){return""!==e.trim()}));if(!t.length)return"";var n=rankMathEditor.getPrimaryKeyword();if(""!==n){var a=Object(L.filter)(t,(function(e){return Object(L.includes)(e.toLowerCase(),n.toLowerCase())}));if(0<a.length)return U(a[0],160)}return U(t[0],160)}(t.content.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")):"",r=Object(L.isUndefined)(n)||Object(L.isEmpty)(n)?a:Object(L.unescape)(n);if(s.a.setVariable("excerpt",r),s.a.setVariable("seo_description",r),""!==(e=Object(F.a)(Object(l.applyFilters)("rankMath/description",e))))return R.Helpers.cleanText(e);if(!Object(L.isUndefined)(n)&&!Object(L.isEmpty)(n))return R.Helpers.cleanText(n);var i=Object(L.unescape)(rankMath.assessor.serpData.descriptionTemplate);return Object(L.isUndefined)(i)||""===i?a:R.Helpers.cleanText(i)};function H(e){return e=s.a.swap(""!==e?e:rankMath.assessor.serpData.titleTemplate),rankMathEditor.refresh("title"),u("serpTitle",e)}function V(e){return e=""!==e?e:rankMathEditor.assessor.dataCollector.getSlug(),rankMathEditor.refresh("permalink"),u("serpSlug",e)}function z(e){return e=s.a.swap(B(e)),rankMathEditor.refresh("description"),u("serpDescription",e)}function K(e){return u("isSnippetEditorOpen",e)}function G(e){return u("snippetPreviewType",e)}function W(e){return u("isTrendsCtaOpen",e)}function $(e){return c("twitterUseFacebook",e,"rank_math_twitter_use_facebook",!0===e?"on":"off")}function q(e){return c("twitterCardType",e,"rank_math_twitter_card_type")}function Y(e){return c("twitterTitle",e,"rank_math_twitter_title")}function J(e){return c("twitterDescription",e,"rank_math_twitter_description")}function X(e){return c("twitterAuthor",e,"rank_math_twitter_author")}function Z(e){return c("twitterImageID",e,"rank_math_twitter_image_id")}function Q(e){return c("twitterImage",e,"rank_math_twitter_image")}function ee(e){return c("twitterHasOverlay",e,"rank_math_twitter_enable_image_overlay",!0===e?"on":"off")}function te(e){return c("twitterImageOverlay",e,"rank_math_twitter_image_overlay")}function ne(e){return c("twitterPlayerUrl",e,"rank_math_twitter_player_url")}function ae(e){return c("twitterPlayerSize",e,"rank_math_twitter_player_size")}function re(e){return c("twitterPlayerStream",e,"rank_math_twitter_player_stream")}function ie(e){return c("twitterPlayerStreamCtype",e,"rank_math_twitter_player_stream_ctype")}function oe(e){return c("twitterAppDescription",e,"rank_math_twitter_app_description")}function se(e){return c("twitterAppIphoneID",e,"rank_math_twitter_app_iphone_id")}function le(e){return c("twitterAppIphoneName",e,"rank_math_twitter_app_iphone_name")}function ce(e){return c("twitterAppIphoneUrl",e,"rank_math_twitter_app_iphone_url")}function ue(e){return c("twitterAppIpadID",e,"rank_math_twitter_app_ipad_id")}function pe(e){return c("twitterAppIpadName",e,"rank_math_twitter_app_ipad_name")}function de(e){return c("twitterAppIpadUrl",e,"rank_math_twitter_app_ipad_url")}function he(e){return c("twitterAppGoogleplayID",e,"rank_math_twitter_app_googleplay_id")}function me(e){return c("twitterAppGoogleplayName",e,"rank_math_twitter_app_googleplay_name")}function ge(e){return c("twitterAppGoogleplayUrl",e,"rank_math_twitter_app_googleplay_url")}function fe(e){return c("twitterAppCountry",e,"rank_math_twitter_app_country")}function be(e){return u("isLoaded",e)}function ve(e){return u("selectedKeyword",e)}function we(){return u("refreshResults",Date.now())}function ye(){return u("isPro",!0)}function ke(e){return u("isDiviPageSettingsBarActive",e)}function Oe(e){return u("isDiviRankMathModalActive",e)}var _e=n(0),Te=n(13),Ee=n.n(Te);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){return u("isSchemaEditorOpen",e)}function Ce(e){return u("isSchemaTemplatesOpen",e)}function xe(e){return u("schemaUpdated",e)}function Me(e){return u("editingSchemaId",e)}function Ne(e){return u("editorTab",e)}function Ae(e){return u("templateTab",e)}function Pe(e){return u("editSchemas",e)}function Re(e){return c("schemas",e)}function Le(e,t){var n=Se({},Object(o.select)("rank-math").getEditSchemas());return n[e]=t,u("editSchemas",n)}function Fe(e,t){var n=Se({},Object(o.select)("rank-math").getSchemas());return n[e]=t,c("schemas",n)}function Ue(e){var t=Se({},Object(o.select)("rank-math").getSchemas());return delete t[e],Object(l.doAction)("rank_math_schema_trash",e),c("schemas",t,"rank_math_delete_"+e,"")}function Be(e,t,n){return Ee()({method:"POST",path:"rankmath/v1/saveTemplate",data:{schema:e,postId:n}}).then((function(n){t({loading:!1,showNotice:!0,postId:n.id}),setTimeout((function(){t({showNotice:!1}),Object(L.get)(rankMath,"isTemplateScreen",!1)&&(document.title=Object(_e.__)("Edit Schema","rank-math"),window.history.pushState(null,"",n.link.replace(/&amp;/g,"&")))}),2e3),rankMath.schemaTemplates.push({schema:e,title:e.metadata.title,type:e["@type"]})})),t({loading:!0}),{type:"DONT_WANT_TO_DO_SOMETHING"}}function He(e){return u("keywordsData",e)}function Ve(e){return c("contentAIScore",e,"rank_math_contentai_score")}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=rankMath.assessor.serpData,$e=rankMath.assessor.hasRedirection,qe={postID:null,title:We.title?We.title:We.titleTemplate,description:We.description,keywords:We.focusKeywords,pillarContent:We.pillarContent,featuredImage:"",permalink:!1,primaryTerm:We.primaryTerm,robots:We.robots,advancedRobots:We.advancedRobots,canonicalUrl:We.canonicalUrl,breadcrumbTitle:We.breadcrumbTitle,showScoreFrontend:We.showScoreFrontend,redirectionID:$e?Object(L.get)(rankMath.assessor,"redirection.id",""):"",redirectionType:$e?Object(L.get)(rankMath.assessor,"redirection.header_code",""):"",redirectionUrl:$e?Object(L.get)(rankMath.assessor,"redirection.url_to",""):"",facebookTitle:We.facebookTitle,facebookImage:We.facebookImage,facebookImageID:We.facebookImageID,facebookAuthor:We.facebookAuthor,facebookDescription:We.facebookDescription,facebookHasOverlay:We.facebookHasOverlay,facebookImageOverlay:We.facebookImageOverlay,twitterTitle:We.twitterTitle,twitterImage:We.twitterImage,twitterAuthor:We.twitterAuthor,twitterImageID:We.twitterImageID,twitterCardType:We.twitterCardType,twitterUseFacebook:We.twitterUseFacebook,twitterDescription:We.twitterDescription,twitterHasOverlay:We.twitterHasOverlay,twitterImageOverlay:We.twitterImageOverlay,twitterPlayerUrl:We.twitterPlayerUrl,twitterPlayerSize:We.twitterPlayerSize,twitterPlayerStream:We.twitterPlayerStream,twitterPlayerStreamCtype:We.twitterPlayerStreamCtype,twitterAppDescription:We.twitterAppDescription,twitterAppIphoneName:We.twitterAppIphoneName,twitterAppIphoneID:We.twitterAppIphoneID,twitterAppIphoneUrl:We.twitterAppIphoneUrl,twitterAppIpadName:We.twitterAppIpadName,twitterAppIpadID:We.twitterAppIpadID,twitterAppIpadUrl:We.twitterAppIpadUrl,twitterAppGoogleplayName:We.twitterAppGoogleplayName,twitterAppGoogleplayID:We.twitterAppGoogleplayID,twitterAppGoogleplayUrl:We.twitterAppGoogleplayUrl,twitterAppCountry:We.twitterAppCountry,schemas:Object(L.get)(rankMath,"schemas",{}),score:0,contentAIScore:{},dirtyMetadata:{}};function Ye(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,n=arguments.length>1?arguments[1]:void 0,a=Ke({},t.dirtyMetadata);return!1!==n.metaKey&&(a[n.metaKey]=n.metaValue),"RANK_MATH_APP_DATA"===n.type?"dirtyMetadata"===n.key?Ke(Ke({},t),{},{dirtyMetadata:n.value}):Ke(Ke({},t),{},(Ge(e={},n.key,n.value),Ge(e,"dirtyMetadata",a),e)):t}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe={isLoaded:!1,isPro:!1,selectedKeyword:{tag:"",index:0,data:{value:""}},hasRedirect:rankMath.assessor.hasRedirection&&(!Object(L.isEmpty)(Object(L.get)(rankMath.assessor,"redirection.id",""))||!Object(L.isEmpty)(Object(L.get)(rankMath.assessor,"redirection.url_to",""))),serpTitle:"",serpSlug:"",serpDescription:"",isSnippetEditorOpen:!1,snippetPreviewType:"",refreshResults:"",redirectionItem:{},isTrendsCtaOpen:!1,editorTab:"",templateTab:"",editSchemas:{},editingSchemaId:"",isSchemaEditorOpen:!1,isSchemaTemplatesOpen:!1,schemaUpdated:!1,isDiviRankMathModalActive:!1,isDiviPageSettingsBarActive:!1,keywordsData:Object(L.get)(rankMath,"ca_data",[])};function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;return"RANK_MATH_APP_UI"===t.type?Xe(Xe({},e),{},Ze({},t.key,t.value)):e}function tt(e){return e.appData}function nt(e){return e.appData.dirtyMetadata}function at(e){return e.appData.score}function rt(e){return e.appData.keywords}function it(e){return e.appData.pillarContent}function ot(e){return e.appData.robots}function st(e){return e.appData.advancedRobots}function lt(e){return e.appData.canonicalUrl}function ct(e){return e.appData.breadcrumbTitle}function ut(e){return"todo"}function pt(e){return e.appData.showScoreFrontend}function dt(e){return e.appUi.isLoaded}function ht(e){return e.appUi.selectedKeyword}function mt(e){return e.appUi.refreshResults}function gt(e){return e.appUi.isPro}function ft(e){return e.appUi.isDiviPageSettingsBarActive}function bt(e){return e.appUi.isDiviRankMathModalActive}function vt(e){return e.appData.facebookTitle}function wt(e){return e.appData.facebookDescription}function yt(e){return e.appData.facebookAuthor}function kt(e){return e.appData.facebookImageID}function Ot(e){return e.appData.facebookImage}function _t(e){return e.appData.facebookHasOverlay}function Tt(e){return""!==e.appData.facebookImageOverlay?e.appData.facebookImageOverlay:"play"}function Et(e){return e.appData.postID}function jt(e){return e.appData.title}function St(e){return e.appData.permalink}function Dt(e){return e.appData.description}function It(e){return e.appData.featuredImage}function Ct(e){var t=e.appData.featuredImage;return'<img src="'.concat(t.source_url,'" alt="').concat(t.alt_text,'" >')}function xt(e){return e.appData.primaryTerm}function Mt(e){return e.appData.redirectionID}function Nt(e){return e.appData.redirectionType}function At(e){return e.appData.redirectionUrl}function Pt(e){return e.appUi.redirectionItem}function Rt(e){return e.appUi.hasRedirect}var Lt=n(11);function Ft(e){return Object(F.a)(e.appUi.serpTitle)}function Ut(e){return Object(Lt.safeDecodeURIComponent)(e.appUi.serpSlug)}function Bt(e){return e.appUi.serpDescription}function Ht(e){return e.appUi.isSnippetEditorOpen}function Vt(e){return e.appUi.snippetPreviewType}function zt(e){return e.appUi.isTrendsCtaOpen}function Kt(e){return e.appUi.isSchemaEditorOpen}function Gt(e){return e.appUi.isSchemaTemplatesOpen}function Wt(e){return e.appUi.schemaUpdated}function $t(e){return e.appData.schemas}function qt(e){return e.appUi.editSchemas}function Yt(e){return{id:e.appUi.editingSchemaId,data:e.appUi.editSchemas[e.appUi.editingSchemaId]}}function Jt(e){return e.appData.schemas[e.appUi.editingSchemaId]}function Xt(e){return e.appUi.editorTab}function Zt(e){return e.appUi.templateTab}function Qt(e){return e.appData.twitterUseFacebook}function en(e){return e.appData.twitterCardType}function tn(e){return e.appData.twitterTitle}function nn(e){return e.appData.twitterDescription}function an(e){return e.appData.twitterAuthor}function rn(e){return e.appData.twitterImageID}function on(e){return e.appData.twitterImage}function sn(e){return e.appData.twitterHasOverlay}function ln(e){return""!==e.appData.twitterImageOverlay?e.appData.twitterImageOverlay:"play"}function cn(e){return e.appData.twitterAppDescription}function un(e){return e.appData.twitterAppIphoneID}function pn(e){return e.appData.twitterAppIphoneName}function dn(e){return e.appData.twitterAppIphoneUrl}function hn(e){return e.appData.twitterAppIpadID}function mn(e){return e.appData.twitterAppIpadName}function gn(e){return e.appData.twitterAppIpadUrl}function fn(e){return e.appData.twitterAppGoogleplayID}function bn(e){return e.appData.twitterAppGoogleplayName}function vn(e){return e.appData.twitterAppGoogleplayUrl}function wn(e){return e.appData.twitterAppCountry}function yn(e){return e.appData.twitterPlayerUrl}function kn(e){return e.appData.twitterPlayerSize}function On(e){return e.appData.twitterPlayerStream}function _n(e){return e.appData.twitterPlayerStreamCtype}function Tn(e){return e.appUi.keywordsData}function En(e){return e.appData.contentAIScore}var jn=Object(o.registerStore)("rank-math",{reducer:Object(o.combineReducers)(r),selectors:i,actions:a});function Sn(){return jn}},,,function(e,t,n){"use strict";var a=n(1),r=Object(a.createSlotFill)("RankMathAfterFocusKeyword"),i=r.Fill,o=r.Slot,s=function(e){var t=e.children,n=e.className;return wp.element.createElement(i,null,wp.element.createElement("div",{className:n},t))};s.Slot=o,t.a=s},function(e,t,n){"use strict";var a=n(1),r=Object(a.createSlotFill)("RankMathAfterEditor"),i=r.Fill,o=r.Slot,s=function(e){var t=e.children,n=e.className;return wp.element.createElement(i,null,wp.element.createElement(a.PanelRow,{className:n},t))};s.Slot=o,t.a=s},function(e,t,n){"use strict";var a=n(1),r=Object(a.createSlotFill)("RankMathAdvancedTab"),i=r.Fill,o=r.Slot,s=function(e){var t=e.children,n=e.className;return wp.element.createElement(i,null,wp.element.createElement(a.PanelRow,{className:n},t))};s.Slot=o,t.a=s},function(e,t,n){"use strict";var a=n(3);t.a=function(){return!(Object(a.isNil)(window.wp)||Object(a.isNil)(wp.data)||Object(a.isNil)(wp.data.select("core/editor"))||!window.document.body.classList.contains("block-editor-page")||!Object(a.isFunction)(wp.data.select("core/editor").getEditedPostAttribute))}},function(e,t,n){"use strict";t.a=function(e){return 100<e?"bad-fk dark":80<e?"good-fk":50<e?"ok-fk":"bad-fk"}},,function(e,t){e.exports=wp.htmlEntities},function(e,t,n){"use strict";var a=n(2),r=n(23);t.a=Object(a.withSelect)((function(e){var t=e("rank-math");return{score:t.getAnalysisScore(),isRefreshing:t.isRefreshing()}}))((function(e){var t=e.score;return wp.element.createElement("div",{className:"seo-score "+Object(r.a)(t)},wp.element.createElement("div",{className:"score-text"},t," / 100"))}))},function(e,t){e.exports=wp.mediaUtils},function(e,t){e.exports=React},function(e,t,n){"use strict";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var a=n(44),r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();e.exports=i},function(e,t,n){var a=n(31).Symbol;e.exports=a},function(e,t,n){"use strict";var a=n(0),r=n(7);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rankMath.is_front_page&&(Object(r.addFilter)("rankMath_analysis_contentLength","rank-math",this.contentLength),Object(r.addFilter)("rankMath_analysis_contentLength_boundaries","rank-math",this.contentLengthBoundary))}var t,n,o;return t=e,(n=[{key:"contentLength",value:function(e){return{hasScore:e.hasScore,failed:Object(a.__)("Content is %1$d words long. Consider using at least 300 words.","rank-math"),tooltipText:Object(a.__)("Minimum recommended content length should be 300 words.","rank-math"),emptyContent:Object(a.sprintf)(Object(a.__)("Content should be %1$s long.","rank-math"),'<a href="https://s.rankmath.com/100contentlength" target="_blank">'+Object(a.__)("300 words","rank-math")+"</a>")}}},{key:"contentLengthBoundary",value:function(){return{recommended:{boundary:299,score:8},belowRecommended:{boundary:200,score:5},low:{boundary:50,score:2}}}}])&&i(t.prototype,n),o&&i(t,o),e}();t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(28)),i=s(n(39)),o=s(n(42));function s(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function c(e,t){var n,o,s,u,p,d,h,m,g=[],f={};for(d=0;d<e.length;d++)if("string"!==(p=e[d]).type){if(!t.hasOwnProperty(p.value)||void 0===t[p.value])throw new Error("Invalid interpolation, missing component node: `"+p.value+"`");if("object"!==a(t[p.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+p.value+"`","\n> "+l);if("componentClose"===p.type)throw new Error("Missing opening component token: `"+p.value+"`");if("componentOpen"===p.type){n=t[p.value],s=d;break}g.push(t[p.value])}else g.push(p.value);return n&&(u=function(e,t){var n,a,r=t[e],i=0;for(a=e+1;a<t.length;a++)if((n=t[a]).value===r.value){if("componentOpen"===n.type){i++;continue}if("componentClose"===n.type){if(0===i)return a;i--}}throw new Error("Missing closing component token `"+r.value+"`")}(s,e),h=c(e.slice(s+1,u),t),o=r.default.cloneElement(n,{},h),g.push(o),u<e.length-1&&(m=c(e.slice(u+1),t),g=g.concat(m))),1===g.length?g[0]:(g.forEach((function(e,t){e&&(f["interpolation-child-"+t]=e)})),(0,i.default)(f))}t.default=function(e){var t=e.mixedString,n=e.components,r=e.throwErrors;if(l=t,!n)return t;if("object"!==(void 0===n?"undefined":a(n))){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var i=(0,o.default)(t);try{return c(i,n)}catch(e){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},function(e,t,n){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function t(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?e(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=(e,t,n,a)=>(e=""+e,t=""+t,a&&(e=e.trim(),t=t.trim()),n?e==t:e.toLowerCase()==t.toLowerCase());function r(e,t){var n,a={};for(n in e)t.indexOf(n)<0&&(a[n]=e[n]);return a}function i(e){var t=document.createElement("div");return e.replace(/\&#?[0-9a-z]+;/gi,(function(e){return t.innerHTML=e,t.innerText}))}function o(e,t){for(t=t||"previous";e=e[t+"Sibling"];)if(3==e.nodeType)return e}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):e}function l(e){var t=Object.prototype.toString.call(e).split(" ")[1].slice(0,-1);return e===Object(e)&&"Array"!=t&&"Function"!=t&&"RegExp"!=t&&"HTMLUnknownElement"!=t}function c(e,t,n){function a(e,t){for(var n in t)if(t.hasOwnProperty(n)){if(l(t[n])){l(e[n])?a(e[n],t[n]):e[n]=Object.assign({},t[n]);continue}if(Array.isArray(t[n])){e[n]=Object.assign([],t[n]);continue}e[n]=t[n]}}return e instanceof Object||(e={}),a(e,t),n&&a(e,n),e}function u(e){return String.prototype.normalize?"string"==typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:e}var p=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function d(e){return e&&e.classList&&e.classList.contains(this.settings.classNames.tag)}var h={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tag:"tagify__tag",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",inputInvalid:"tagify__input--invalid",tagX:"tagify__tag__removeBtn",tagText:"tagify__tag-text",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownInital:"tagify__dropdown--initial",scopeLoading:"tagify--loading",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function m(){this.dropdown={};for(let e in this._dropdown)this.dropdown[e]="function"==typeof this._dropdown[e]?this._dropdown[e].bind(this):this._dropdown[e];this.settings.dropdown.enabled>=0&&this.dropdown.init()}var g={init(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownWrapperSelector)},show(e){var t,n,r,i=this.settings,o="mix"==i.mode&&!i.enforceWhitelist,s=!i.whitelist||!i.whitelist.length,c="manual"==i.dropdown.position;if(e=void 0===e?this.state.inputText:e,(!s||o||i.templates.dropdownItemNoMatch)&&!1!==i.dropdown.enable&&!this.state.isLoading){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(e),e&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",e),i.templates.dropdownItemNoMatch&&(r=i.templates.dropdownItemNoMatch.call(this,{value:e}))),!r){if(this.suggestedListItems.length)e&&o&&!this.state.editing.scope&&!a(this.suggestedListItems[0].value,e)&&this.suggestedListItems.unshift({value:e});else{if(!e||!o||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:e}]}n=""+(l(t=this.suggestedListItems[0])?t.value:t),i.autoComplete&&n&&0==n.indexOf(e)&&this.input.autocomplete.suggest.call(this,t)}this.dropdown.fill(r),i.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.children[0]),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=e||!0,this.state.dropdown.query=e,this.setStateSelection(),c||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger("dropdown:show",this.DOM.dropdown)}))}},hide(e){var t=this.DOM,n=t.scope,a=t.dropdown,r="manual"==this.settings.dropdown.position&&!e;if(a&&document.body.contains(a)&&!r)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),n.setAttribute("aria-expanded",!1),a.parentNode.removeChild(a),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",a),this},toggle(e){this.dropdown[this.state.dropdown.visible&&!e?"hide":"show"]()},render(){var e,t,n=((t=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(t),e=t.clientHeight,t.parentNode.removeChild(t),e),a=this.settings;return this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(a.classNames.dropdownInital),this.dropdown.position(n),a.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(a.classNames.dropdownInital)))),this},fill(e){var t;e="string"==typeof e?e:this.dropdown.createListHTML(e||this.suggestedListItems),this.DOM.dropdown.content.innerHTML=(t=e)?t.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,((e,t)=>t||" ")):""},refilter(e){e=e||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(e),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(e){var t=this.settings.dropdown;if("manual"!=t.position){var n,a,r,i,o,s,l=this.DOM.dropdown,c=t.placeAbove,u=document.documentElement.clientHeight,p=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>480?t.position:"all",d=this.DOM["input"==p?"input":"scope"];e=e||l.clientHeight,this.state.dropdown.visible&&("text"==p?(r=(n=this.getCaretGlobalPosition()).bottom,a=n.top,i=n.left,o="auto"):(s=function(e){for(var t=0,n=0;e;)t+=e.offsetLeft||0,n+=e.offsetTop||0,e=e.parentNode;return{left:t,top:n}}(this.settings.dropdown.appendTarget),a=(n=d.getBoundingClientRect()).top-s.top,r=n.bottom-1-s.top,i=n.left-s.left,o=n.width+"px"),a=Math.floor(a),r=Math.ceil(r),c=void 0===c?u-n.bottom<e:c,l.style.cssText="left:"+(i+window.pageXOffset)+"px; width:"+o+";"+(c?"top: "+(a+window.pageYOffset)+"px":"top: "+(r+window.pageYOffset)+"px"),l.setAttribute("placement",c?"top":"bottom"),l.setAttribute("position",p))}},events:{binding(e=!0){var t=this.dropdown.events.callbacks,n=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:t.onKeyDown.bind(this),onMouseOver:t.onMouseOver.bind(this),onMouseLeave:t.onMouseLeave.bind(this),onClick:t.onClick.bind(this),onScroll:t.onScroll.bind(this)},a=e?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(window[a]("resize",n.position),window[a]("keydown",n.onKeyDown)),this.DOM.dropdown[a]("mouseover",n.onMouseOver),this.DOM.dropdown[a]("mouseleave",n.onMouseLeave),this.DOM.dropdown[a]("mousedown",n.onClick),this.DOM.dropdown.content[a]("scroll",n.onScroll)},callbacks:{onKeyDown(e){var t=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),n=this.dropdown.getSuggestionDataByNode(t);switch(e.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":var a;e.preventDefault(),t&&(t=t[("ArrowUp"==e.key||"Up"==e.key?"previous":"next")+"ElementSibling"]),t||(a=this.DOM.dropdown.content.children,t=a["ArrowUp"==e.key||"Up"==e.key?a.length-1:0]),n=this.dropdown.getSuggestionDataByNode(t),this.dropdown.highlightOption(t,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&t&&!this.settings.autoComplete.rightKey&&!this.state.editing){e.preventDefault();var r=this.dropdown.getMappedValue(n);return this.input.autocomplete.set.call(this,r),!1}return!0;case"Enter":e.preventDefault(),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:n,suggestionElm:t}).then((()=>{if(t)return this.dropdown.selectOption(t);this.dropdown.hide(),"mix"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)})).catch((e=>e));break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;const e=this.input.raw.call(this);""!=e&&8203!=e.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}},onMouseOver(e){var t=e.target.closest(this.settings.classNames.dropdownItemSelector);t&&this.dropdown.highlightOption(t)},onMouseLeave(e){this.dropdown.highlightOption()},onClick(e){if(0==e.button&&e.target!=this.DOM.dropdown&&e.target!=this.DOM.dropdown.content){var t=e.target.closest(this.settings.classNames.dropdownItemSelector),n=this.dropdown.getSuggestionDataByNode(t);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:n,suggestionElm:t}).then((()=>{t?this.dropdown.selectOption(t):this.dropdown.hide()})).catch((e=>console.warn(e)))}},onScroll(e){var t=e.target,n=t.scrollTop/(t.scrollHeight-t.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},getSuggestionDataByNode(e){var t=e?+e.getAttribute("tagifySuggestionIdx"):-1;return this.suggestedListItems[t]||null},highlightOption(e,t){var n,a=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(a),this.state.ddItemElm.removeAttribute("aria-selected")),!e)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.suggestedListItems[this.getNodeIndex(e)],this.state.ddItemData=n,this.state.ddItemElm=e,e.classList.add(a),e.setAttribute("aria-selected",!0),t&&(e.parentNode.scrollTop=e.clientHeight+e.offsetTop-e.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption(e){var t,n=this.settings.dropdown,a=n.clearOnSelect,r=n.closeOnSelect;if(!e)return t=this.addTags(this.state.inputText,!0),void(r&&this.dropdown.hide());var i=e.getAttribute("tagifySuggestionIdx"),o=this.suggestedListItems[+i];this.trigger("dropdown:select",{data:o,elm:e}),i&&o?(this.state.editing?this.onEditTagDone(null,c({__isValid:!0},this.normalizeTags(o)[0])):t=this["mix"==this.settings.mode?"addMixTags":"addTags"]([o],a),this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0),this.placeCaretAfterNode(t)})),r?setTimeout(this.dropdown.hide.bind(this)):this.dropdown.refilter())):this.dropdown.hide()},selectAll(){return this.suggestedListItems.length=0,this.dropdown.hide(),this.addTags(this.dropdown.filterListItems(""),!0),this},filterListItems(e,t){var n,a,r,i,o,s=this.settings,c=s.dropdown,p=(t=t||{},e="select"==s.mode&&this.value.length&&this.value[0][s.tagTextProp]==e?"":e,[]),d=[],h=s.whitelist,m=c.maxItems||1/0,g=c.searchKeys,f=0;if(!e||!g.length)return(s.duplicates?h:h.filter((e=>!this.isTagDuplicate(l(e)?e.value:e)))).slice(0,m);function b(e,t){return t.toLowerCase().split(" ").every((t=>e.includes(t.toLowerCase())))}for(o=c.caseSensitive?""+e:(""+e).toLowerCase();f<h.length;f++){let e,m;n=h[f]instanceof Object?h[f]:{value:h[f]};let v=Object.keys(n).some((e=>g.includes(e)))?g:["value"];c.fuzzySearch&&!t.exact?(r=v.reduce(((e,t)=>e+" "+(n[t]||"")),"").toLowerCase().trim(),c.accentedSearch&&(r=u(r),o=u(o)),e=0==r.indexOf(o),m=r===o,a=b(r,o)):(e=!0,a=v.some((e=>{var a=""+(n[e]||"");return c.accentedSearch&&(a=u(a),o=u(o)),c.caseSensitive||(a=a.toLowerCase()),m=a===o,t.exact?a===o:0==a.indexOf(o)}))),i=!s.duplicates&&this.isTagDuplicate(l(n)?n.value:n),a&&!i&&(m&&e?d.push(n):"startsWith"==c.sortby&&e?p.unshift(n):p.push(n))}return"function"==typeof c.sortby?c.sortby(d.concat(p),o):d.concat(p).slice(0,m)},getMappedValue(e){var t=this.settings.dropdown.mapValueTo;return t?"function"==typeof t?t(e):e[t]||e.value:e.value},createListHTML(e){return c([],e).map(((e,t)=>{"string"!=typeof e&&"number"!=typeof e||(e={value:e});var n=this.dropdown.getMappedValue(e);e.value=n&&"string"==typeof n?s(n):n;var a=this.settings.templates.dropdownItem.apply(this,[e,this]);return a.replace(/\s*tagifySuggestionIdx=(["'])(.*?)\1/gim,"").replace(">",` tagifySuggestionIdx="${t}">`)})).join("")}};const f="@yaireo/tagify/";var b,v={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},w={wrapper:(e,t)=>`<tags class="${t.classNames.namespace} ${t.mode?`${t.classNames[t.mode+"Mode"]}`:""} ${e.className}"\n                    ${t.readonly?"readonly":""}\n                    ${t.disabled?"disabled":""}\n                    ${t.required?"required":""}\n                    tabIndex="-1">\n            <span ${!t.readonly&&t.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${t.placeholder||"&#8203;"}" aria-placeholder="${t.placeholder||""}"\n                class="${t.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==t.mode}"></span>\n        </tags>`,tag(e,t){var n=this.settings;return`<tag title="${e.title||e.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${n.a11y.focusableTags?0:-1}"\n                    class="${n.classNames.tag} ${e.class||""}"\n                    ${this.getAttributes(e)}>\n            <x title='' class="${n.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${n.classNames.tagText}">${e[n.tagTextProp]||e.value}</span>\n            </div>\n        </tag>`},dropdown(e){var t=e.dropdown,n="manual"==t.position,a=`${e.classNames.dropdown}`;return`<div class="${n?"":a} ${t.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div class="${e.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownItem(e,t){return`<div ${this.getAttributes(e)}\n                    class='${this.settings.classNames.dropdownItem} ${e.class?e.class:""}'\n                    tabindex="0"\n                    role="option">${e.value}</div>`},dropdownItemNoMatch:null},y={customBinding(){this.customEventsList.forEach((e=>{this.on(e,this.settings.callbacks[e])}))},binding(e=!0){var t,n=this.events.callbacks,a=e?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!e){for(var r in this.state.mainEvents=e,e&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),t=this.listeners.main=this.listeners.main||{focus:["input",n.onFocusBlur.bind(this)],keydown:["input",n.onKeydown.bind(this)],click:["scope",n.onClickScope.bind(this)],dblclick:["scope",n.onDoubleClickScope.bind(this)],paste:["input",n.onPaste.bind(this)],drop:["input",n.onDrop.bind(this)]})this.DOM[t[r][0]][a](r,t[r][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(n.observeOriginalInputValue.bind(this),500);var i=this.listeners.main.inputMutationObserver||new MutationObserver(n.onInputDOMChange.bind(this));i&&i.disconnect(),"mix"==this.settings.mode&&i.observe(this.DOM.input,{childList:!0})}},bindGlobal(e){var t,n=this.events.callbacks,a=e?"removeEventListener":"addEventListener";if(e||!this.listeners.global)for(t of(this.listeners.global=this.listeners&&this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:n[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:n.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:n.onFocusBlur.bind(this)}],this.listeners.global))t.target[a](t.type,t.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(e){var t=e.target?this.trim(e.target.textContent):"",n=this.settings,a=e.type,r=n.dropdown.enabled>=0,i={relatedTarget:e.relatedTarget},o=this.state.actions.selectOption&&(r||!n.dropdown.closeOnSelect),s=this.state.actions.addNew&&r,l=e.relatedTarget&&d.call(this,e.relatedTarget)&&this.DOM.scope.contains(e.relatedTarget);if("blur"==a){if(e.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),this.triggerChangeEvent()}if(!o&&!s)if(this.state.hasFocus="focus"==a&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=n.mode){if("focus"==a)return this.trigger("focus",i),void(0!==n.dropdown.enabled&&n.userInput||this.dropdown.show(this.value.length?"":void 0));"blur"==a&&(this.trigger("blur",i),this.loading(!1),"select"==this.settings.mode&&l&&(t=""),("select"==this.settings.mode&&t?!this.value.length||this.value[0].value!=t:t&&!this.state.actions.selectOption&&n.addTagOnBlur)&&this.addTags(t,!0),"select"!=this.settings.mode||t||this.removeTags()),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==a?this.trigger("focus",i):"blur"==e.type&&(this.trigger("blur",i),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onWindowKeyDown(e){var t,n=document.activeElement;if(d.call(this,n)&&this.DOM.scope.contains(document.activeElement))switch(t=n.nextElementSibling,e.key){case"Backspace":this.removeTags(n),(t||this.DOM.input).focus();break;case"Enter":setTimeout(this.editTag.bind(this),0,n)}},onKeydown(e){var t=this.settings;"select"==t.mode&&t.enforceWhitelist&&this.value.length&&"Tab"!=e.key&&e.preventDefault();var n=this.trim(e.target.textContent);if(this.trigger("keydown",{originalEvent:this.cloneEvent(e)}),"mix"==t.mode){switch(e.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var a,r,s,l=document.getSelection(),c="Delete"==e.key&&l.anchorOffset==(l.anchorNode.length||0),u=l.anchorNode.previousSibling,h=1==l.anchorNode.nodeType||!l.anchorOffset&&u&&1==u.nodeType&&l.anchorNode.previousSibling,m=i(this.DOM.input.innerHTML),g=this.getTagElms();if("edit"==t.backspace&&h)return a=1==l.anchorNode.nodeType?null:l.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,a),void e.preventDefault();if(p()&&h)return s=o(h),h.hasAttribute("readonly")||h.remove(),this.DOM.input.focus(),void setTimeout((()=>{this.placeCaretAfterNode(s),this.DOM.input.click()}));if("BR"==l.anchorNode.nodeName)return;if((c||h)&&1==l.anchorNode.nodeType?r=0==l.anchorOffset?c?g[0]:null:g[l.anchorOffset-1]:c?r=l.anchorNode.nextElementSibling:h&&(r=h),3==l.anchorNode.nodeType&&!l.anchorNode.nodeValue&&l.anchorNode.previousElementSibling&&e.preventDefault(),(h||c)&&!t.backspace)return void e.preventDefault();if("Range"!=l.type&&!l.anchorOffset&&l.anchorNode==this.DOM.input&&"Delete"!=e.key)return void e.preventDefault();if("Range"!=l.type&&r&&r.hasAttribute("readonly"))return void this.placeCaretAfterNode(o(r));clearTimeout(b),b=setTimeout((()=>{var e=document.getSelection(),t=i(this.DOM.input.innerHTML),n=!c&&e.anchorNode.previousSibling;if(t.length>=m.length&&n)if(d.call(this,n)&&!n.hasAttribute("readonly")){if(this.removeTags(n),this.fixFirefoxLastTagNoCaret(),2==this.DOM.input.children.length&&"BR"==this.DOM.input.children[1].tagName)return this.DOM.input.innerHTML="",this.value.length=0,!0}else n.remove();this.value=[].map.call(g,((e,t)=>{var n=this.tagData(e);if(e.parentNode||n.readonly)return n;this.trigger("remove",{tag:e,index:t,data:n})})).filter((e=>e))}),20)}return!0}switch(e.key){case"Backspace":"select"==t.mode&&t.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&"manual"!=t.dropdown.position||""!=n&&8203!=n.charCodeAt(0)||(!0===t.backspace?this.removeTags():"edit"==t.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;e.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let e=this.state.inputSuggestion||this.state.ddItemData;if(e&&t.autoComplete.rightKey)return void this.addTags([e],!0);break}case"Tab":{let a="select"==t.mode;if(!n||a)return!0;e.preventDefault()}case"Enter":if(this.state.dropdown.visible||229==e.keyCode)return;e.preventDefault(),setTimeout((()=>{this.state.actions.selectOption||this.addTags(n,!0)}))}},onInput(e){if(this.postUpdate(),"mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,e);var t=this.input.normalize.call(this),n=t.length>=this.settings.dropdown.enabled,a={value:t,inputElm:this.DOM.input};a.isValid=this.validateTag({value:t}),this.state.inputText!=t&&(this.input.set.call(this,t,!1),-1!=t.search(this.settings.delimiters)?this.addTags(t)&&this.input.set.call(this):this.settings.dropdown.enabled>=0&&this.dropdown[n?"show":"hide"](t),this.trigger("input",a))},onMixTagsInput(e){var t,n,a,r,i,o,s,l,u=this.settings,d=this.value.length,h=this.getTagElms(),m=document.createDocumentFragment(),g=window.getSelection().getRangeAt(0),f=[].map.call(h,(e=>this.tagData(e).value));if("deleteContentBackward"==e.inputType&&p()&&this.events.callbacks.onKeydown.call(this,{target:e.target,key:"Backspace"}),this.value.slice().forEach((e=>{e.readonly&&!f.includes(e.value)&&m.appendChild(this.createTagElem(e))})),m.childNodes.length&&(g.insertNode(m),this.setRangeAtStartEnd(!1,m.lastChild)),h.length!=d)return this.value=[].map.call(this.getTagElms(),(e=>this.tagData(e))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(o=window.getSelection()).rangeCount>0&&3==o.anchorNode.nodeType){if((g=o.getRangeAt(0).cloneRange()).collapse(!0),g.setStart(o.focusNode,0),a=(t=g.toString().slice(0,g.endOffset)).split(u.pattern).length-1,(n=t.match(u.pattern))&&(r=t.slice(t.lastIndexOf(n[n.length-1]))),r){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:r.match(u.pattern)[0],value:r.replace(u.pattern,"")},this.state.tag.baseOffset=o.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(u.delimiters))return this.state.tag.value=this.state.tag.value.replace(u.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,u.dropdown.clearOnSelect),void this.dropdown.hide();i=this.state.tag.value.length>=u.dropdown.enabled;try{s=(s=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&s.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(e){}(s||a<this.state.mixMode.matchedPatternCount)&&(i=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=a}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",c({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[i?"show":"hide"](this.state.tag.value)}),10)},onInputIE(e){var t=this;setTimeout((function(){t.events.callbacks.onInput.call(t,e)}))},observeOriginalInputValue(){this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickScope(e){var t=this.settings,n=e.target.closest("."+t.classNames.tag),a=+new Date-this.state.hasFocus;if(e.target!=this.DOM.scope){if(!e.target.classList.contains(t.classNames.tagX))return n?(this.trigger("click",{tag:n,index:this.getNodeIndex(n),data:this.tagData(n),originalEvent:this.cloneEvent(e)}),void(1!==t.editTags&&1!==t.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,e))):void(e.target==this.DOM.input&&("mix"==t.mode&&this.fixFirefoxLastTagNoCaret(),a>500)?this.state.dropdown.visible?this.dropdown.hide():0===t.dropdown.enabled&&"mix"!=t.mode&&this.dropdown.show(this.value.length?"":void 0):"select"==t.mode&&!this.state.dropdown.visible&&this.dropdown.show());this.removeTags(e.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste(e){e.preventDefault();var t,n,a=this.settings;if("select"==a.mode&&a.enforceWhitelist||!a.userInput)return!1;a.readonly||(t=e.clipboardData||window.clipboardData,n=t.getData("Text"),a.hooks.beforePaste(e,{tagify:this,pastedText:n,clipboardData:t}).then((t=>{void 0===t&&(t=n),t&&(this.injectAtCaret(t,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,e):this.settings.pasteAsTags?this.addTags(this.state.inputText+t,!0):this.state.inputText=t)})).catch((e=>e)))},onDrop(e){e.preventDefault()},onEditTagInput(e,t){var n=e.closest("."+this.settings.classNames.tag),a=this.getNodeIndex(n),r=this.tagData(n),i=this.input.normalize.call(this,e),o=n.innerHTML!=n.__tagifyTagData.__originalHTML,s=this.validateTag({[this.settings.tagTextProp]:i});o||!0!==e.originalIsValid||(s=!0),n.classList.toggle(this.settings.classNames.tagInvalid,!0!==s),r.__isValid=s,n.title=!0===s?r.title||r.value:s,i.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=i),this.dropdown.show(i)),this.trigger("edit:input",{tag:n,index:a,data:c({},this.value[a],{newValue:i}),originalEvent:this.cloneEvent(t)})},onEditTagFocus(e){this.state.editing={scope:e,input:e.querySelector("[contenteditable]")}},onEditTagBlur(e){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(e)){var t,n,a=this.settings,r=e.closest("."+a.classNames.tag),i=this.input.normalize.call(this,e),o=this.tagData(r).__originalData,s=r.innerHTML!=r.__tagifyTagData.__originalHTML,l=this.validateTag({[a.tagTextProp]:i});if(i)if(s){if(t=this.hasMaxTags(),n=this.getWhitelistItem(i)||c({},o,{[a.tagTextProp]:i,value:i,__isValid:l}),a.transformTag.call(this,n,o),!0!==(l=!t&&this.validateTag({[a.tagTextProp]:n[a.tagTextProp]}))){if(this.trigger("invalid",{data:n,tag:r,message:l}),a.editTags.keepInvalid)return;a.keepInvalidTags?n.__isValid=l:n=o}else a.keepInvalidTags&&(delete n.title,delete n["aria-invalid"],delete n.class);this.onEditTagDone(r,n)}else this.onEditTagDone(r,o);else this.onEditTagDone(r)}},onEditTagkeydown(e,t){switch(this.trigger("edit:keydown",{originalEvent:this.cloneEvent(e)}),e.key){case"Esc":case"Escape":t.innerHTML=t.__tagifyTagData.__originalHTML;case"Enter":case"Tab":e.preventDefault(),e.target.blur()}},onDoubleClickScope(e){var t,n,a=e.target.closest("."+this.settings.classNames.tag),r=this.settings;a&&r.userInput&&(t=a.classList.contains(this.settings.classNames.tagEditing),n=a.hasAttribute("readonly"),"select"==r.mode||r.readonly||t||n||!this.settings.editTags||this.editTag(a),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:a,index:this.getNodeIndex(a),data:this.tagData(a)}))},onInputDOMChange(e){e.forEach((e=>{e.addedNodes.forEach((e=>{if(e)if("<div><br></div>"==e.outerHTML)e.replaceWith(document.createElement("br"));else if(1==e.nodeType&&e.querySelector(this.settings.classNames.tagSelector)){let t=document.createTextNode("");3==e.childNodes[0].nodeType&&"BR"!=e.previousSibling.nodeName&&(t=document.createTextNode("\n")),e.replaceWith(t,...[...e.childNodes].slice(0,-1)),this.placeCaretAfterNode(t.previousSibling)}else d.call(this,e)&&e.previousSibling&&"BR"==e.previousSibling.nodeName&&(e.previousSibling.replaceWith("\n​"),this.placeCaretAfterNode(e.previousSibling.previousSibling))})),e.removedNodes.forEach((e=>{e&&"BR"==e.nodeName&&d.call(this,t)&&(this.removeTags(t),this.fixFirefoxLastTagNoCaret())}))}));var t=this.DOM.input.lastChild;t&&""==t.nodeValue&&t.remove(),t&&"BR"==t.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function k(e,t){return e?e.previousElementSibling&&e.previousElementSibling.classList.contains("tagify")?(console.warn("Tagify: ","input element is already Tagified",e),this):(c(this,function(e){var t=document.createTextNode("");function n(e,n,a){a&&n.split(/\s+/g).forEach((n=>t[e+"EventListener"].call(t,n,a)))}return{off(e,t){return n("remove",e,t),this},on(e,t){return t&&"function"==typeof t&&n("add",e,t),this},trigger(n,a,r){var i;if(r=r||{cloneData:!0},n)if(e.settings.isJQueryPlugin)"remove"==n&&(n="removeTag"),jQuery(e.DOM.originalInput).triggerHandler(n,[a]);else{try{var o="object"==typeof a?a:{value:a};if((o=r.cloneData?c({},o):o).tagify=this,a instanceof Object)for(var s in a)a[s]instanceof HTMLElement&&(o[s]=a[s]);i=new CustomEvent(n,{detail:o})}catch(e){console.warn(e)}t.dispatchEvent(i)}}}}(this)),this.isFirefox="undefined"!=typeof InstallTrigger,this.isIE=window.document.documentMode,t=t||{},this.getPersistedData=(n=t.id,e=>{let t,a="/"+e;if(1==localStorage.getItem(f+n+"/v",1))try{t=JSON.parse(localStorage[f+n+a])}catch(e){}return t}),this.setPersistedData=(e=>e?(localStorage.setItem(f+e+"/v",1),(t,n)=>{let a="/"+n,r=JSON.stringify(t);t&&n&&(localStorage.setItem(f+e+a,r),dispatchEvent(new Event("storage")))}):()=>{})(t.id),this.clearPersistedData=(e=>t=>{const n=f+"/"+e+"/";if(t)localStorage.removeItem(n+t);else for(let e in localStorage)e.includes(n)&&localStorage.removeItem(e)})(t.id),this.applySettings(e,t),this.state={inputText:"",editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(e),m.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),void(e.autofocus&&this.DOM.input.focus())):(console.warn("Tagify: ","input element not found",e),this);var n}return k.prototype={_dropdown:g,customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(e){return this.settings.trim&&e&&"string"==typeof e?e.trim():e},parseHTML:function(e){return(new DOMParser).parseFromString(e.trim(),"text/html").body.firstElementChild},templates:w,parseTemplate(e,t){return e=this.settings.templates[e]||e,this.parseHTML(e.apply(this,t))},set whitelist(e){const t=e&&Array.isArray(e);this.settings.whitelist=t?e:[],this.setPersistedData(t?e:[],"whitelist")},get whitelist(){return this.settings.whitelist},applySettings(e,n){h.templates=this.templates;var a=this.settings=c({},h,n);a.disabled=e.hasAttribute("disabled"),a.readonly=e.hasAttribute("readonly"),a.placeholder=e.getAttribute("placeholder")||a.placeholder||"",a.required=e.hasAttribute("required");for(let e in a.classNames)Object.defineProperty(a.classNames,e+"Selector",{get(){return"."+this[e].split(" ")[0]}});if(this.isIE&&(a.autoComplete=!1),["whitelist","blacklist"].forEach((t=>{var n=e.getAttribute("data-"+t);n&&(n=n.split(a.delimiters))instanceof Array&&(a[t]=n)})),"autoComplete"in n&&!l(n.autoComplete)&&(a.autoComplete=h.autoComplete,a.autoComplete.enabled=n.autoComplete),"mix"==a.mode&&(a.autoComplete.rightKey=!0,a.delimiters=n.delimiters||null,a.tagTextProp&&!a.dropdown.searchKeys.includes(a.tagTextProp)&&a.dropdown.searchKeys.push(a.tagTextProp)),e.pattern)try{a.pattern=new RegExp(e.pattern)}catch(e){}if(this.settings.delimiters)try{a.delimiters=new RegExp(this.settings.delimiters,"g")}catch(e){}a.disabled&&(a.userInput=!1),this.TEXTS=t(t({},v),a.texts||{}),"select"!=a.mode&&a.userInput||(a.dropdown.enabled=0),a.dropdown.appendTarget=n.dropdown&&n.dropdown.appendTarget?n.dropdown.appendTarget:document.body;let r=this.getPersistedData("whitelist");Array.isArray(r)&&(this.whitelist=Array.isArray(a.whitelist)?function(){const e=[],t={};for(let n of arguments)for(let a of n)l(a)?t[a.value]||(e.push(a),t[a.value]=1):e.includes(a)||e.push(a);return e}(a.whitelist,r):r)},getAttributes(e){var t,n=this.getCustomAttributes(e),a="";for(t in n)a+=" "+t+(void 0!==e[t]?`="${n[t]}"`:"");return a},getCustomAttributes(e){if(!l(e))return"";var t,n={};for(t in e)"__"!=t.slice(0,2)&&"class"!=t&&e.hasOwnProperty(t)&&void 0!==e[t]&&(n[t]=s(e[t]));return n},setStateSelection(){var e=window.getSelection(),t={anchorOffset:e.anchorOffset,anchorNode:e.anchorNode,range:e.getRangeAt&&e.rangeCount&&e.getRangeAt(0)};return this.state.selection=t,t},getCaretGlobalPosition(){const e=document.getSelection();if(e.rangeCount){const t=e.getRangeAt(0),n=t.startContainer,a=t.startOffset;let r,i;if(a>0)return i=document.createRange(),i.setStart(n,a-1),i.setEnd(n,a),r=i.getBoundingClientRect(),{left:r.right,top:r.top,bottom:r.bottom};if(n.getBoundingClientRect)return n.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars(){var e,t=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(({value:e,unit:t})=>"s"==t?1e3*e:e)(function(e){if(!e)return{};var t=(e=e.trim().split(" ")[0]).split(/\d+/g).filter((e=>e)).pop().trim();return{value:+e.split(t).filter((e=>e))[0].trim(),unit:t}}((e="tag-hide-transition",t.getPropertyValue("--"+e))))}},build(e){var t=this.DOM;this.settings.mixMode.integrated?(t.originalInput=null,t.scope=e,t.input=e):(t.originalInput=e,t.scope=this.parseTemplate("wrapper",[e,this.settings]),t.input=t.scope.querySelector(this.settings.classNames.inputSelector),e.parentNode.insertBefore(t.scope,e))},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues(e){var t,n=this.settings;if(void 0===e){const t=this.getPersistedData("value");e=t&&!this.DOM.originalInput.value?t:n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags({withoutChangeEvent:!0}),e)if("mix"==n.mode)this.parseMixTags(e.trim()),(t=this.DOM.input.lastChild)&&"BR"==t.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(e)instanceof Array&&(e=JSON.parse(e))}catch(e){}this.addTags(e).forEach((e=>e&&e.classList.add(n.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=n.mixMode.integrated?"":this.DOM.originalInput.value,this.state.loadedOriginalValues=!0},cloneEvent(e){var t={};for(var n in e)t[n]=e[n];return t},loading(e){return this.state.isLoading=e,this.DOM.scope.classList[e?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(e,t){return e&&e.classList[t?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(e,t){"string"==typeof e&&this.DOM.scope.classList.toggle(e,t)},toggleFocusClass(e){this.toggleClass(this.settings.classNames.focus,!!e)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var e=this.DOM.originalInput,t=this.state.lastOriginalValueReported!==e.value,n=new CustomEvent("change",{bubbles:!0});t&&(this.state.lastOriginalValueReported=e.value,n.simulated=!0,e._valueTracker&&e._valueTracker.setValue(Math.random()),e.dispatchEvent(n),this.trigger("change",this.state.lastOriginalValueReported),e.value=this.state.lastOriginalValueReported)}},events:y,fixFirefoxLastTagNoCaret(){},placeCaretAfterNode(e){if(e&&e.parentNode){var t=e.nextSibling,n=window.getSelection(),a=n.getRangeAt(0);n.rangeCount&&(a.setStartAfter(t||e),a.collapse(!0),n.removeAllRanges(),n.addRange(a))}},insertAfterTag(e,t){if(t=t||this.settings.mixMode.insertAfterTag,e&&e.parentNode&&t)return t="string"==typeof t?document.createTextNode(t):t,e.parentNode.insertBefore(t,e.nextSibling),t},editTag(e,t){e=e||this.getLastTag(),t=t||{},this.dropdown.hide();var n=this.settings;function a(){return e.querySelector(n.classNames.tagTextSelector)}var r=a(),i=this.getNodeIndex(e),o=this.tagData(e),s=this.events.callbacks,l=this,u=!0;if(r){if(!(o instanceof Object&&"editable"in o)||o.editable)return r.setAttribute("contenteditable",!0),e.classList.add(n.classNames.tagEditing),this.tagData(e,{__originalData:c({},o),__originalHTML:e.innerHTML}),r.addEventListener("focus",s.onEditTagFocus.bind(this,e)),r.addEventListener("blur",(function(){setTimeout((()=>s.onEditTagBlur.call(l,a())))})),r.addEventListener("input",s.onEditTagInput.bind(this,r)),r.addEventListener("keydown",(t=>s.onEditTagkeydown.call(this,t,e))),r.focus(),this.setRangeAtStartEnd(!1,r),t.skipValidation||(u=this.editTagToggleValidity(e)),r.originalIsValid=u,this.trigger("edit:start",{tag:e,index:i,data:o,isValid:u}),this}else console.warn("Cannot find element in Tag template: .",n.classNames.tagTextSelector)},editTagToggleValidity(e,t){var n;if(t=t||this.tagData(e))return(n=!("__isValid"in t)||!0===t.__isValid)||this.removeTagsFromValue(e),this.update(),e.classList.toggle(this.settings.classNames.tagNotAllowed,!n),t.__isValid;console.warn("tag has no data: ",e,t)},onEditTagDone(e,t){t=t||{};var n={tag:e=e||this.state.editing.scope,index:this.getNodeIndex(e),previousData:this.tagData(e),data:t};this.trigger("edit:beforeUpdate",n,{cloneData:!1}),this.state.editing=!1,delete t.__originalData,delete t.__originalHTML,e&&t[this.settings.tagTextProp]?(e=this.replaceTag(e,t),this.editTagToggleValidity(e,t),this.settings.a11y.focusableTags&&e.focus()):e&&this.removeTags(e),this.trigger("edit:updated",n),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(e,t){t&&t.value||(t=e.__tagifyTagData),t.__isValid&&1!=t.__isValid&&c(t,this.getInvalidTagAttrs(t,t.__isValid));var n=this.createTagElem(t);return e.parentNode.replaceChild(n,e),this.updateValueByDOMTags(),n},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(e=>{e.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(this.tagData(e))})),this.update()},setRangeAtStartEnd(e,t){e="number"==typeof e?e:!!e,t=(t=t||this.DOM.input).lastChild||t;var n=document.getSelection();try{n.rangeCount>=1&&["Start","End"].forEach((a=>n.getRangeAt(0)["set"+a](t,e||t.length)))}catch(e){}},injectAtCaret(e,t){if(t=t||this.state.selection.range)return"string"==typeof e&&(e=document.createTextNode(e)),t.deleteContents(),t.insertNode(e),this.setRangeAtStartEnd(!1,e),this.updateValueByDOMTags(),this.update(),this},input:{set(e="",t=!0){var n=this.settings.dropdown.closeOnSelect;this.state.inputText=e,t&&(this.DOM.input.innerHTML=s(""+e)),!e&&n&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var e=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!e),e},normalize(e){var t=e||this.DOM.input,n=[];t.childNodes.forEach((e=>3==e.nodeType&&n.push(e.nodeValue))),n=n.join("\n");try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(e){}return n=n.replace(/\s/g," "),this.settings.trim&&(n=n.replace(/^\s+/,"")),n},autocomplete:{suggest(e){if(this.settings.autoComplete.enabled){"string"==typeof(e=e||{})&&(e={value:e});var t=e.value?""+e.value:"",n=t.substr(0,this.state.inputText.length).toLowerCase(),a=t.substring(this.state.inputText.length);t&&this.state.inputText&&n==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",a),this.state.inputSuggestion=e):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set(e){var t=this.DOM.input.getAttribute("data-suggest"),n=e||(t?this.state.inputText+t:null);return!!n&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(e){return this.value.findIndex((t=>t.__tagId==(e||{}).__tagId))},getNodeIndex(e){var t=0;if(e)for(;e=e.previousElementSibling;)t++;return t},getTagElms(...e){var t="."+[...this.settings.classNames.tag.split(" "),...e].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(t))},getLastTag(){var e=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return e[e.length-1]},tagData:(e,t,n)=>e?(t&&(e.__tagifyTagData=n?t:c({},e.__tagifyTagData||{},t)),e.__tagifyTagData):(console.warn("tag elment doesn't exist",e,t),t),isTagDuplicate(e,t){var n=this.settings;return"select"!=n.mode&&this.value.reduce(((r,i)=>a(this.trim(""+e),i.value,t||n.dropdown.caseSensitive)?r+1:r),0)},getTagIndexByValue(e){var t=[];return this.getTagElms().forEach(((n,r)=>{a(this.trim(n.textContent),e,this.settings.dropdown.caseSensitive)&&t.push(r)})),t},getTagElmByValue(e){var t=this.getTagIndexByValue(e)[0];return this.getTagElms()[t]},flashTag(e){e&&(e.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{e.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(e){return e=this.trim(e.toLowerCase()),this.settings.blacklist.filter((t=>(""+t).toLowerCase()==e)).length},isTagWhitelisted(e){return!!this.getWhitelistItem(e)},getWhitelistItem(e,t,n){t=t||"value";var r,i=this.settings;return(n=n||i.whitelist).some((n=>{var o="string"==typeof n?n:n[t]||n.value;if(a(o,e,i.dropdown.caseSensitive,i.trim))return r="string"==typeof n?{value:n}:n,!0})),r||"value"!=t||"value"==i.tagTextProp||(r=this.getWhitelistItem(e,i.tagTextProp,n)),r},validateTag(e){var t=this.settings,n="value"in e?"value":t.tagTextProp,a=this.trim(e[n]+"");return(e[n]+"").trim()?t.pattern&&t.pattern instanceof RegExp&&!t.pattern.test(a)?this.TEXTS.pattern:!t.duplicates&&this.isTagDuplicate(a,this.state.editing)?this.TEXTS.duplicate:this.isTagBlacklisted(a)||t.enforceWhitelist&&!this.isTagWhitelisted(a)?this.TEXTS.notAllowed:!t.validate||t.validate(e):this.TEXTS.empty},getInvalidTagAttrs(e,t){return{"aria-invalid":!0,class:`${e.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:t}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(e,t){var n=this.settings;document.activeElement.blur(),n[t||"readonly"]=e,this.DOM.scope[(e?"set":"remove")+"Attribute"](t||"readonly",!0),"mix"==n.mode&&(this.DOM.input.contentEditable=!e)},setDisabled(e){this.setReadonly(e,"disabled")},normalizeTags(e){var t=this.settings,n=t.whitelist,a=t.delimiters,r=t.mode,i=t.tagTextProp;t.enforceWhitelist;var o=[],s=!!n&&n[0]instanceof Object,l=e instanceof Array,c=e=>(e+"").split(a).filter((e=>e)).map((e=>({[i]:this.trim(e),value:this.trim(e)})));if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(!e.trim())return[];e=c(e)}else l&&(e=[].concat(...e.map((e=>e.value?e:c(e)))));return s&&(e.forEach((e=>{var t=o.map((e=>e.value)),n=this.dropdown.filterListItems.call(this,e[i],{exact:!0});this.settings.duplicates||(n=n.filter((e=>!t.includes(e.value))));var a=n.length>1?this.getWhitelistItem(e[i],i,n):n[0];a&&a instanceof Object?o.push(a):"mix"!=r&&(null==e.value&&(e.value=e[i]),o.push(e))})),o.length&&(e=o)),e},parseMixTags(e){var t=this.settings,n=t.mixTagsInterpolator,a=t.duplicates,r=t.transformTag,i=t.enforceWhitelist,o=t.maxTags,s=t.tagTextProp,l=[];return e=e.split(n[0]).map(((e,t)=>{var c,u,p,d=e.split(n[1]),h=d[0],m=l.length==o;try{if(h==+h)throw Error;u=JSON.parse(h)}catch(e){u=this.normalizeTags(h)[0]||{value:h}}if(r.call(this,u),m||!(d.length>1)||i&&!this.isTagWhitelisted(u.value)||!a&&this.isTagDuplicate(u.value)){if(e)return t?n[0]+e:e}else u[c=u[s]?s:"value"]=this.trim(u[c]),p=this.createTagElem(u),l.push(u),p.classList.add(this.settings.classNames.tagNoAnimation),d[0]=p.outerHTML,this.value.push(u);return d.join("")})).join(""),this.DOM.input.innerHTML=e,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(((e,t)=>this.tagData(e,l[t]))),this.update({withoutChangeEvent:!0}),e},replaceTextWithNode(e,t){if(this.state.tag||t){t=t||this.state.tag.prefix+this.state.tag.value;var n,a,r=window.getSelection(),i=r.anchorNode,o=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return i.splitText(r.anchorOffset-o),-1==(n=i.nodeValue.lastIndexOf(t))||(a=i.splitText(n),e&&i.parentNode.replaceChild(e,a)),!0}},selectTag(e,t){var n=this.settings;if(!n.enforceWhitelist||this.isTagWhitelisted(t.value)){this.input.set.call(this,t[n.tagTextProp]||t.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this));var a=this.getLastTag();return a?this.replaceTag(a,t):this.appendTag(e),n.enforceWhitelist&&this.DOM.input.removeAttribute("contenteditable"),this.value[0]=t,this.update(),this.trigger("add",{tag:e,data:t}),[e]}},addEmptyTag(e){var t=c({value:""},e||{}),n=this.createTagElem(t);this.tagData(n,t),this.appendTag(n),this.editTag(n,{skipValidation:!0})},addTags(e,t,n){var a=[],r=this.settings,i=document.createDocumentFragment();return n=n||r.skipInvalid,e&&0!=e.length?(e=this.normalizeTags(e),"mix"==r.mode?this.addMixTags(e):("select"==r.mode&&(t=!1),this.DOM.input.removeAttribute("style"),e.forEach((e=>{var t,o={},s=Object.assign({},e,{value:e.value+""});if(e=Object.assign({},s),r.transformTag.call(this,e),e.__isValid=this.hasMaxTags()||this.validateTag(e),!0!==e.__isValid){if(n)return;c(o,this.getInvalidTagAttrs(e,e.__isValid),{__preInvalidData:s}),e.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(e.value))}if("readonly"in e&&(e.readonly?o["aria-readonly"]=!0:delete e.readonly),t=this.createTagElem(e,o),a.push(t),"select"==r.mode)return this.selectTag(t,e);i.appendChild(t),e.__isValid&&!0===e.__isValid?(this.value.push(e),this.trigger("add",{tag:t,index:this.value.length-1,data:e})):(this.trigger("invalid",{data:e,index:this.value.length,tag:t,message:e.__isValid}),r.keepInvalidTags||setTimeout((()=>this.removeTags(t,!0)),1e3)),this.dropdown.position()})),this.appendTag(i),this.update(),e.length&&t&&this.input.set.call(this),this.dropdown.refilter(),a)):("select"==r.mode&&this.removeAllTags(),a)},addMixTags(e){if((e=this.normalizeTags(e))[0].prefix||this.state.tag)return this.prefixedTextToTag(e[0]);"string"==typeof e&&(e=[{value:e}]);var t=!!this.state.selection,n=document.createDocumentFragment();return e.forEach((e=>{var t=this.createTagElem(e);n.appendChild(t),this.insertAfterTag(t)})),t?this.injectAtCaret(n):(this.DOM.input.focus(),(t=this.setStateSelection()).range.setStart(this.DOM.input,t.range.endOffset),t.range.setEnd(this.DOM.input,t.range.endOffset),this.DOM.input.appendChild(n),this.updateValueByDOMTags(),this.update()),n},prefixedTextToTag(e){var t,n=this.settings,a=this.state.tag.delimiters;if(n.transformTag.call(this,e),e.prefix=e.prefix||this.state.tag?this.state.tag.prefix:(n.pattern.source||n.pattern)[0],t=this.createTagElem(e),this.replaceTextWithNode(t)||this.DOM.input.appendChild(t),setTimeout((()=>t.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(e),this.update(),!a){var r=this.insertAfterTag(t)||t;this.placeCaretAfterNode(r)}return this.state.tag=null,this.trigger("add",c({},{tag:t},{data:e})),t},appendTag(e){var t=this.DOM,n=t.scope.lastElementChild;n===t.input?t.scope.insertBefore(e,n):t.scope.appendChild(e)},createTagElem(e,n){e.__tagId=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)));var a,r=c({},e,t({value:s(e.value+"")},n));return function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);t=n.nextNode();)t.textContent.trim()||t.parentNode.removeChild(t)}(a=this.parseTemplate("tag",[r])),this.tagData(a,e),a},reCheckInvalidTags(){var e=this.settings;this.getTagElms(e.classNames.tagNotAllowed).forEach(((e,t)=>{var n=this.tagData(e),a=this.hasMaxTags(),r=this.validateTag(n);if(!0===r&&!a)return n=n.__preInvalidData?n.__preInvalidData:{value:n.value},this.replaceTag(e,n);e.title=a||r}))},removeTags(e,t,n){var a;e=e&&e instanceof HTMLElement?[e]:e instanceof Array?e:e?[e]:[this.getLastTag()],a=e.reduce(((e,t)=>{t&&"string"==typeof t&&(t=this.getTagElmByValue(t));var n=this.tagData(t);return t&&n&&!n.readonly&&e.push({node:t,idx:this.getTagIdx(n),data:this.tagData(t,{__removed:!0})}),e}),[]),n="number"==typeof n?n:this.CSSVars.tagHideTransition,"select"==this.settings.mode&&(n=0,this.input.set.call(this)),1==a.length&&a[0].node.classList.contains(this.settings.classNames.tagNotAllowed)&&(t=!0),a.length&&this.settings.hooks.beforeRemoveTag(a,{tagify:this}).then((()=>{function e(e){e.node.parentNode&&(e.node.parentNode.removeChild(e.node),t?this.settings.keepInvalidTags&&this.trigger("remove",{tag:e.node,index:e.idx}):(this.trigger("remove",{tag:e.node,index:e.idx,data:e.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()))}n&&n>10&&1==a.length?function(t){t.node.style.width=parseFloat(window.getComputedStyle(t.node).width)+"px",document.body.clientTop,t.node.classList.add(this.settings.classNames.tagHide),setTimeout(e.bind(this),n,t)}.call(this,a[0]):a.forEach(e.bind(this)),t||(this.removeTagsFromValue(a.map((e=>e.node))),this.update(),"select"==this.settings.mode&&this.DOM.input.setAttribute("contenteditable",!0))})).catch((e=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((e=>e.parentNode.removeChild(e)))},removeTagsFromValue(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{var t=this.tagData(e),n=this.getTagIdx(t);n>-1&&this.value.splice(n,1)}))},removeAllTags(e){e=e||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.position(),"select"==this.settings.mode&&this.input.set.call(this),this.update(e)},postUpdate(){var e=this.settings.classNames,t="mix"==this.settings.mode?this.settings.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(e.hasMaxTags,this.value.length>=this.settings.maxTags),this.toggleClass(e.hasNoTags,!this.value.length),this.toggleClass(e.empty,!t)},setOriginalInputValue(e){var t=this.DOM.originalInput;this.settings.mixMode.integrated||(t.value=e,t.tagifyValue=t.value,this.setPersistedData(e,"value"))},update(e){var t=this.getInputValue();this.setOriginalInputValue(t),this.postUpdate(),!(e||{}).withoutChangeEvent&&this.state.loadedOriginalValues&&this.triggerChangeEvent()},getInputValue(){var e=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(e):e.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(e):JSON.stringify(e):""},getCleanValue(e){return t=e||this.value,n=this.dataProps,t&&Array.isArray(t)&&t.map((e=>r(e,n)));var t,n},getMixedTagsAsString(){var e="",t=this,n=this.settings.mixTagsInterpolator;return function a(i){i.childNodes.forEach((i=>{if(1==i.nodeType){const o=t.tagData(i);if("BR"==i.tagName&&(e+="\r\n"),"DIV"==i.tagName||"P"==i.tagName)e+="\r\n",a(i);else if(d.call(t,i)&&o){if(o.__removed)return;e+=n[0]+JSON.stringify(r(o,t.dataProps))+n[1]}}else e+=i.textContent}))}(this.DOM.input),e}},k.prototype.removeTag=k.prototype.removeTags,k}()},function(e,t,n){var a,r;a=function(){var e,t=0,n={},a={},r=(e=window.MutationObserver||window.WebKitMutationObserver,function(t,n){t&&1===t.nodeType&&(e?new e((function(e,t){n(e)})).observe(t,{childList:!0,subtree:!1}):window.addEventListener&&t.addEventListener("DOMNodeInserted",n,!1))});function i(e,t){if(!e)return this;t=t||{},this.parentElm=e,this.uid=t.uid,this.settings={selector:"*",callbacks:{}},Object.assign(this.settings,t),this.setup(),r(this.parentElm,this.setup.bind(this)),this.bindEvents()}return i.prototype={namespace:"dragsort",setup(){[...this.parentElm.childNodes].forEach((e=>{if(1!=e.nodeType)return e.parentNode.removeChild(e);e.matches(this.settings.selector)&&(e.draggable=!0)})),this.gap=this.getItemsGap(this.parentElm.firstElementChild)},throttle(e,t){var n=!1,a=this;return function(r){n||(e.call(a,r),n=!0,setTimeout((()=>n=!1),t))}},getDraggableElm(e){if(!e.closest)return null;var t=e.closest('[draggable="true"]');return this.uid==n.uid?t:null},dragstart(e,t){n=this;var a,r=this.getDraggableElm(t);r?(this.source=this.getInitialState(),this.target=this.getInitialState(),a=r.getBoundingClientRect(),this.source.elm=r,this.source.idx=this.getNodeIndex(r),this.source.size.width=a.width,this.source.size.height=a.height,e.dataTransfer.effectAllowed="move",setTimeout(this.afterDragStart.bind(this))):n={}},afterDragStart(){var e="vertical"==this.settings.mode?"height":"width";this.parentElm.classList.add(`${this.namespace}--dragStart`),this.source.elm.style[e]=this.source.size[e]+"px",this.source.elm.classList.add(`${this.namespace}--dragElem`)},dragover(e){e.preventDefault(),e.stopPropagation();var t=e.target;if((t=this.getDraggableElm(t))&&this.target){var n=this.target.elm,a=this.target.hoverDirection;e.dataTransfer.dropEffect="move",this.target.hoverDirection=this.getTargetDirection(e),n==t&&a==this.target.hoverDirection||this.directionAwareDragEnter(e,t)}},dragenter(e,t){(t=this.getDraggableElm(t))&&this.target&&this.isValidElm(t)&&this.source.elm!=t&&this.source.elm&&(this.target.bounding=t.getBoundingClientRect())},directionAwareDragEnter(e,t){var n;e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="none",this.isValidElm(t)&&this.source.elm!=t&&this.source.elm&&(e.dataTransfer.dropEffect="move",this.cleanupLastTarget(),this.target.elm=t,this.target.idx=this.getNodeIndex(t),t.classList.add("over"),n=Math.abs(this.target.idx-this.source.idx),this.source.elm.classList.toggle(`${this.namespace}--hide`,n>0),"vertical"==this.settings.mode?this.target.elm.style[this.target.hoverDirection?"marginBottom":"marginTop"]=this.source.size.height+this.gap+"px":this.target.elm.style[this.target.hoverDirection?"marginRight":"marginLeft"]=this.source.size.width+this.gap+"px")},dragend(e){if(clearTimeout(this.dragoverTimeout),this.dragoverTimeout=null,this.parentElm.classList.remove(`${this.namespace}--dragStart`),!this.isValidElm(this.target.elm))return this.cleanup();var t=this.target.hoverDirection?this.target.elm.nextElementSibling:this.target.elm;return this.source.elm!=this.target.elm&&this.target.elm&&(this.target.elm.classList.add(`${this.namespace}--noAnim`),this.cleanup(),this.parentElm.insertBefore(this.source.elm,t)),this.source.elm&&this.source.elm.classList.remove(`${this.namespace}--dragElem`,`${this.namespace}--hide`),this.settings.callbacks.dragEnd(this.source.elm),this},isTargetLastChild(){return this.parentElm.lastElementChild==this.target.elm},getTargetDirection(e){if(this.target.bounding)return"vertical"==this.settings.mode?e.pageY>this.target.bounding.top+this.target.bounding.height/2?1:0:e.pageX>this.target.bounding.left+this.target.bounding.width/2?1:0},getNodeIndex(e){for(var t=0;e=e.previousSibling;)3==e.nodeType&&/^\s*$/.test(e.data)||t++;return t},isValidElm(e){return e&&e.nodeType&&e.parentNode==this.parentElm},cleanup(){n={},[...this.parentElm.children].forEach((e=>{e.removeAttribute("style"),setTimeout((()=>{e.classList.remove(`${this.namespace}--over`,`${this.namespace}--noAnim`,`${this.namespace}--dragElem`)}),50)}))},cleanupLastTarget(){this.target.elm&&(this.target.elm.classList.remove(`${this.namespace}--hide`,`${this.namespace}--over`),this.target.elm.removeAttribute("style"))},getInitialState:()=>({elm:null,size:{}}),getItemsGap(e){var t=getComputedStyle(e);return"vertical"==this.settings.mode?parseInt(t.marginTop)+parseInt(t.marginBottom):parseInt(t.marginLeft)+parseInt(t.marginRight)},bindEvents(e){for(var t in this.listeners=this.listeners||{dragstart:e=>this.dragstart(e,e.target),dragenter:e=>this.dragenter(e,e.target),dragend:e=>this.dragend(e,e.target),dragover:this.throttle(this.dragover,350)},this.listeners)this.parentElm[e?"removeEventListener":"addEventListener"](t,this.listeners[t])},destroy(){this.cleanup(),this.bindEvents(!0),delete a[this.uid]}},function(e,n){return a[++t]=e.DragSort?a[e.DragSort]:new i(e,{...n,uid:t}),e.DragSort=t,a[t]}},"function"==typeof(r=r||{})&&r.amd?r([],a):e.exports=a()},function(e,t,n){var a=n(30),r=n(43),i=n(46),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,p,d,h,m=0,g=!1,f=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,a=c;return l=c=void 0,m=t,p=e.apply(a,n)}function w(e){return m=e,d=setTimeout(k,t),g?v(e):p}function y(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-m>=u}function k(){var e=r();if(y(e))return O(e);d=setTimeout(k,function(e){var n=t-(e-h);return f?s(n,u-(e-m)):n}(e))}function O(e){return d=void 0,b&&l?v(e):(l=c=void 0,p)}function _(){var e=r(),n=y(e);if(l=arguments,c=this,h=e,n){if(void 0===d)return w(h);if(f)return clearTimeout(d),d=setTimeout(k,t),v(h)}return void 0===d&&(d=setTimeout(k,t)),p}return t=i(t)||0,a(n)&&(g=!!n.leading,u=(f="maxWait"in n)?o(i(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),_.cancel=function(){void 0!==d&&clearTimeout(d),m=0,l=h=c=d=void 0},_.flush=function(){return void 0===d?p:O(r())},_}},function(e,t,n){"use strict";var a=n(0),r=n(2),i=n(7),o=n(5),s=n(9),l=n.n(s),c=n(3),u=n(6),p=n(1);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var h=["tabId","onClick","children","selected"];function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=function(e){var t=e.tabId,n=e.onClick,a=e.children,r=e.selected,i=O(e,h);return wp.element.createElement(p.Button,k({role:"tab",tabIndex:r?null:-1,"aria-selected":r,id:t,onClick:n},i),a)},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,a,r=v(i);function i(){var e;g(this,i),(e=r.apply(this,arguments)).handleClick=function(t){var n=e.props.onSelect,a=void 0===n?c.noop:n;e.setState({selected:t}),a(t)},e.onNavigate=function(e,t){t.click()};var t=e.props,n=t.tabs,a=t.initialTabName;return e.state={selected:a||(n.length>0?n[0].name:null)},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.state.selected,n=this.props,a=n.activeClass,r=void 0===a?"is-active":a,i=n.className,o=n.instanceId,s=n.orientation,u=void 0===s?"horizontal":s,d=n.tabs,h=Object(c.find)(d,{name:t}),g=o+"-"+h.name,f=d.slice(4);return wp.element.createElement("div",{className:i},wp.element.createElement(p.NavigableMenu,{role:"tablist",orientation:u,onNavigate:this.onNavigate,className:"components-tab-panel__tabs "+t},d.slice(0,4).map((function(n){return wp.element.createElement(_,{className:l()("components-tab-panel__tabs-item",n.className,m({},r,n.name===t)),tabId:o+"-"+n.name,"aria-controls":o+"-"+n.name+"-view",selected:n.name===t,key:n.name,onClick:Object(c.partial)(e.handleClick,n.name)},n.title)})),f.map((function(n){return wp.element.createElement(_,{className:l()("components-tab-panel__tabs-item",n.className,m({},r,n.name===t)),tabId:o+"-"+n.name,"aria-controls":o+"-"+n.name+"-view",selected:n.name===t,key:n.name,onClick:Object(c.partial)(e.handleClick,n.name)},n.title)}))),h&&wp.element.createElement("div",{"aria-labelledby":g,role:"tabpanel",id:g+"-view",className:"components-tab-panel__tab-content"},this.props.children(h)))}}])&&f(t.prototype,n),a&&f(t,a),i}(o.Component),E=Object(u.withInstanceId)(T),j=n(14);function S(e,t,n){var a=0;return!1!==Object(c.get)(n,"pixelWidth",!1)&&(a=Math.min(100,Math.floor(t/n.pixelWidth*100))),Math.max(Math.min(100,Math.floor(e/n.max*100)),a)+"%"}function D(e,t){return e<=t.min||e>t.max}function I(e,t){return e<=t.minWidth||e>t.pixelWidth}var C=function(e){var t=function(e,t){var n=Object(j.a)(e).length,a=0,r=!1;if(!1!==Object(c.get)(t,"pixelWidth",!1)){r=!0;var i=document.createTextNode(e),o=document.createElement("span");o.appendChild(i),o.id="rank-math-width-tester",o.className=t.widthCheckerClass;var s=document.body.appendChild(o);a=document.getElementById("rank-math-width-tester").offsetWidth,s.outerHTML=""}return{left:S(n,a,t),isInvalid:D(n,t),isInvalidWidth:!!r&&I(a,t),count:n+" / "+t.max,pixelWidth:r?a+"px / "+t.pixelWidth+"px":""}}(e.source,e),n=t.pixelWidth?" (".concat(t.pixelWidth,")"):"";return wp.element.createElement("span",{className:l()("length-indicator-wrapper",{invalid:t.isInvalid||t.isInvalidWidth})},wp.element.createElement("span",{className:"length-count"},t.count,n),wp.element.createElement("span",{className:"length-indicator"},wp.element.createElement("span",{style:{left:t.left}})))},x=n(25),M=n(34),N=n.n(M),A=function(e){var t=e.tags,n=e.components,a=e.children;return n=n||{},!1===Object(c.isUndefined)(t)&&(t=t.split(",")).forEach((function(e){var t=e;n[e]=wp.element.createElement(t,null)})),N()({mixedString:a,components:n})};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=H(e);if(t){var r=H(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(s,e);var t,n,r,i=F(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={},t.state.variables=t.getFiltered(),t.state.filtered=t.state.variables,t.state.display="none",t.state.isOpen=!1,t.handleOutsideClick=t.handleOutsideClick.bind(B(t)),t}return t=s,(n=[{key:"getFiltered",value:function(){var e=this.props.exclude,t=Object.values(rankMath.variables);return Object(c.isUndefined)(e)?t:t.filter((function(t){return!e.includes(t.variable)}))}},{key:"render",value:function(){var e=this;return wp.element.createElement(o.Fragment,null,wp.element.createElement("div",{className:"rank-math-variables-dropdown",style:{display:this.state.display},ref:function(t){e.node=t}},wp.element.createElement(p.TextControl,{autoComplete:"off",placeholder:Object(x.decodeEntities)(Object(a.__)("Search &hellip;","rank-math")),onChange:function(t){e.handleSearch(t)}}),wp.element.createElement("ul",null,this.state.filtered.map((function(t,n){return wp.element.createElement("li",{key:n,"data-var":t.variable,role:"presentation",onClick:function(){e.props.onClick(t)}},wp.element.createElement("strong",null,t.name),wp.element.createElement("span",null,wp.element.createElement(A,{tags:"strong"},t.description.replace("<strong>","{{strong}}").replace("</strong>","{{/strong}}"))))}),this))),wp.element.createElement(p.Button,{icon:"arrow-down-alt2",onClick:function(){e.toggle()}}))}},{key:"toggle",value:function(){this.state.isOpen?document.removeEventListener("click",this.handleOutsideClick,!1):document.addEventListener("click",this.handleOutsideClick,!1),this.setState({display:this.state.isOpen?"none":"block",isOpen:!this.state.isOpen})}},{key:"handleOutsideClick",value:function(e){this.node.contains(e.target)||this.toggle()}},{key:"handleSearch",value:function(e){var t=e.toLowerCase();2>t.length?this.setState({filtered:this.state.variables}):this.setState({filtered:this.state.variables.filter((function(e){return-1!==Object.values(e).join(" ").toLowerCase().indexOf(t)}))})}}])&&R(t.prototype,n),r&&R(t,r),s}(o.Component),z=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{title:t.getTitle(),serpTitle:t.getSerpTitle()}})),Object(r.withDispatch)((function(e){return{updateTitle:function(t){e("rank-math").updateSerpTitle(t),e("rank-math").updateTitle(t)}}})))((function(e){var t=e.title,n=e.serpTitle,r=e.updateTitle;return wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-editor-title"},Object(a.__)("Title","rank-math")),wp.element.createElement(C,{source:n,min:15,max:60,pixelWidth:580,widthCheckerClass:"title"}),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextControl,{id:"rank-math-editor-title",value:t,placeholder:rankMath.assessor.serpData.titleTemplate,help:Object(a.__)("This is what will appear in the first line when this post shows up in the search results.","rank-math"),onChange:r}),wp.element.createElement(V,{exclude:["seo_title","seo_description"],onClick:function(e){return r(t+" %"+e.variable+"%")}})))})),K=n(8),G=n(11),W=Object(u.compose)(Object(r.withSelect)((function(e){var t=rankMathEditor.assessor.dataCollector,n=e("rank-math").getSerpSlug();return{permalink:n||t.getSlug(),serpPermalink:t.getPermalink()}})),Object(r.withDispatch)((function(){return{updatePermalink:function(e){rankMathEditor.updatePermalink(K.Helpers.sanitizeText(e))},updatePermalinkSanitize:function(e){rankMathEditor.updatePermalinkSanitize(K.Helpers.sanitizeText(e))}}})))((function(e){var t=e.permalink,n=e.serpPermalink,r=e.updatePermalink,i=e.updatePermalinkSanitize;return wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-editor-permalink"},Object(a.__)("Permalink","rank-math")),wp.element.createElement(C,{source:Object(G.safeDecodeURIComponent)(n),min:5,max:75}),wp.element.createElement(p.TextControl,{id:"rank-math-editor-permalink",value:rankMath.is_front_page?"/":Object(G.safeDecodeURIComponent)(t),onChange:r,help:rankMath.is_front_page?Object(a.__)("Editing Homepage permalink is not possible.","rank-math"):Object(a.__)("This is the unique URL of this page, displayed below the post title in the search results.","rank-math"),disabled:rankMath.is_front_page?"disabled":"",onBlur:function(e){i(e.target.value)}}))})),$=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{description:t.getDescription(),serpDescription:t.getSerpDescription()}})),Object(r.withDispatch)((function(e){return{updateDescription:function(t){e("rank-math").updateSerpDescription(t),e("rank-math").updateDescription(t)}}})))((function(e){var t=e.description,n=e.serpDescription,r=e.updateDescription;return wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-editor-description"},Object(a.__)("Description","rank-math")),wp.element.createElement(C,{source:n,min:80,max:160,pixelWidth:920,widthCheckerClass:"description"}),wp.element.createElement("div",{className:"variable-group rank-math-description-variables"},wp.element.createElement(p.TextareaControl,{id:"rank-math-editor-description",value:Object(j.a)(t),placeholder:n||Object(c.unescape)(rankMath.assessor.serpData.descriptionTemplate),help:Object(a.__)("This is what will appear as the description when this post shows up in the search results.","rank-math"),onChange:r}),wp.element.createElement(V,{exclude:["seo_title","seo_description"],onClick:function(e){return r(t+" %"+e.variable+"%")}})))})),q=Object(u.compose)(Object(r.withSelect)((function(e){return{type:e("rank-math").getSnippetPreviewType()}})),Object(r.withDispatch)((function(e,t){return{updatePreviewType:function(n){e("rank-math").updateSnippetPreviewType(n===t.type?"":n)}}})))((function(e){var t=e.type,n=e.updatePreviewType,a=l()("button button-secondary button-small",{active:"desktop"===t}),r=l()("button button-secondary button-small",{active:"mobile"===t});return wp.element.createElement("div",{className:"rank-math-button-devices alignright"},wp.element.createElement("div",{onClick:function(){return n("desktop")},className:a},wp.element.createElement("i",{className:"rm-icon rm-icon-desktop"})),wp.element.createElement("div",{onClick:function(){return n("mobile")},className:r},wp.element.createElement("i",{className:"rm-icon rm-icon-mobile"})))})),Y=n(26),J=function(e,t,n,a){return Object(c.isUndefined)(t)?t:(t=Object(c.truncate)(t,{length:n,separator:a||" "}),""===e?t:t.replace(new RegExp(function(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e),"gi"),(function(e){return'<mark className="highlight">'+e+"</mark>"})))},X=function(e,t){for(var n=[],a=1;a<=e;a++)n.push(wp.element.createElement(p.Dashicon,{key:Math.random(),size:"13",icon:"star-"+t}));return n},Z=Object(r.withSelect)((function(e){var t=e("rank-math").getSchemas();return{schema:Object(c.find)(t,(function(e){return!Object(c.isEmpty)(e.metadata.isPrimary)}))}}))((function(e){var t=e.schema;if(Object(c.isEmpty)(t))return null;var n=Object(c.get)(t,"review.reviewRating",{}),r=n.ratingValue;if(Object(c.isEmpty)(r))return null;Object(c.get)(n,"worstRating",1);var i=Object(c.get)(n,"bestRating",5);return wp.element.createElement("div",{className:"rank-math-rating-preview"},wp.element.createElement("div",{className:"serp-ratings"},X(i,"filled"),function(e,t,n){return e*=100/n,wp.element.createElement("div",{className:"serp-result",style:{width:e+"%"}},X(n,"filled"))}(r,0,i)),wp.element.createElement("span",{className:"serp-rating-label"},Object(a.__)("Rating: ","rank-math")),wp.element.createElement("span",{className:"serp-rating-value"},r))}));function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=Object(r.withSelect)((function(e){var t=e("rank-math"),n=t.getRobots();return{title:t.getSerpTitle(),permalink:rankMathEditor.assessor.dataCollector.getPermalink(),description:t.getSerpDescription(),previewType:t.getSnippetPreviewType(),isNoIndex:"noindex"in n,keyword:t.getSelectedKeyword().data.value}}))((function(e){var t,n=e.title,r=e.permalink,i=e.description,o=e.previewType,s=void 0===o?"desktop":o,c=e.isNoIndex,u=e.keyword,p=e.onClick,d=e.showScore,h=void 0===d||d,m=e.showDevices,g=void 0!==m&&m,f=l()("serp-preview",(Q(t={"expanded-preview":""!==s},"".concat(s,"-preview"),""!==s&&g),Q(t,"noindex-preview",c),t)),b=l()("serp-title",{capitalize:rankMath.capitalizeTitle}),v=rankMathEditor.assessor.getResearch("slugify")(u);return wp.element.createElement("div",{className:f},wp.element.createElement("div",{className:"serp-preview-title","data-title":Object(a.__)("Preview","rank-math"),"data-desktop":Object(a.__)("Desktop Preview","rank-math"),"data-mobile":Object(a.__)("Mobile Preview","rank-math")},h&&wp.element.createElement(Y.a,null)," ",g&&wp.element.createElement(q,null)),wp.element.createElement("div",{className:"serp-preview-wrapper"},wp.element.createElement("div",{className:"serp-preview-bg"},wp.element.createElement("div",{className:"serp-preview-input"},wp.element.createElement("input",{type:"text",value:u||Object(a.__)("Rank Math","rank-math"),disabled:!0}),wp.element.createElement("span",{className:"serp-icon-search"},wp.element.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))),wp.element.createElement("span",{className:"serp-icon-mic"})),wp.element.createElement("div",{className:"serp-preview-menus"},wp.element.createElement("ul",null,wp.element.createElement("li",{className:"current"},wp.element.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIvPjxwYXRoIGZpbGw9IiMzNEE4NTMiIGQ9Ik0xMCAydjJhNiA2IDAgMCAxIDYgNmgyYTggOCAwIDAgMC04LTh6Ii8+PHBhdGggZmlsbD0iI0VBNDMzNSIgZD0iTTEwIDRWMmE4IDggMCAwIDAtOCA4aDJjMC0zLjMgMi43LTYgNi02eiIvPjxwYXRoIGZpbGw9IiNGQkJDMDQiIGQ9Ik00IDEwSDJhOCA4IDAgMCAwIDggOHYtMmMtMy4zIDAtNi0yLjY5LTYtNnoiLz48cGF0aCBmaWxsPSIjNDI4NUY0IiBkPSJNMjIgMjAuNTlsLTUuNjktNS42OUE3Ljk2IDcuOTYgMCAwIDAgMTggMTBoLTJhNiA2IDAgMCAxLTYgNnYyYzEuODUgMCAzLjUyLS42NCA0Ljg4LTEuNjhsNS42OSA1LjY5TDIyIDIwLjU5eiIvPjwvc3ZnPgo=",alt:"","data-atf":"1"}),Object(a.__)("All","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),wp.element.createElement("path",{d:"M14 13l4 5H6l4-4 1.79 1.78L14 13zm-6.01-2.99A2 2 0 0 0 8 6a2 2 0 0 0-.01 4.01zM22 5v14a3 3 0 0 1-3 2.99H5c-1.64 0-3-1.36-3-3V5c0-1.64 1.36-3 3-3h14c1.65 0 3 1.36 3 3zm-2.01 0a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h7v-.01h7a1 1 0 0 0 1-1V5z"}))," ",Object(a.__)("Images","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{clipRule:"evenodd",d:"M0 0h24v24H0z",fill:"none"}),wp.element.createElement("path",{clipRule:"evenodd",d:"M10 16.5l6-4.5-6-4.5v9zM5 20h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1zm14.5 2H5a3 3 0 0 1-3-3V4.4A2.4 2.4 0 0 1 4.4 2h15.2A2.4 2.4 0 0 1 22 4.4v15.1a2.5 2.5 0 0 1-2.5 2.5z",fillRule:"evenodd"}))," ",Object(a.__)("Videos","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),wp.element.createElement("path",{d:"M12 11h6v2h-6v-2zm-6 6h12v-2H6v2zm0-4h4V7H6v6zm16-7.22v12.44c0 1.54-1.34 2.78-3 2.78H5c-1.64 0-3-1.25-3-2.78V5.78C2 4.26 3.36 3 5 3h14c1.64 0 3 1.25 3 2.78zM19.99 12V5.78c0-.42-.46-.78-1-.78H5c-.54 0-1 .36-1 .78v12.44c0 .42.46.78 1 .78h14c.54 0 1-.36 1-.78V12zM12 9h6V7h-6v2z"}))," ",Object(a.__)("News","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))," ","More")),wp.element.createElement("ul",{className:"menus-right"},wp.element.createElement("li",null,Object(a.__)("Settings","rank-math")),wp.element.createElement("li",null,Object(a.__)("Tools","rank-math")))),wp.element.createElement("div",{className:"serp-preview-result-stats"},Object(a.__)("About 43,700,000 results (0.32 seconds) ","rank-math"))),wp.element.createElement("div",{className:"serp-preview-body",role:"button",tabIndex:0,onClick:function(){p&&p()}},wp.element.createElement("div",{className:"group"},wp.element.createElement("img",{src:rankMath.siteFavIcon,width:"16",height:"16",className:"serp-preview-favicon",alt:""}),wp.element.createElement("div",{className:"serp-url",dangerouslySetInnerHTML:{__html:J(v,K.Helpers.sanitizeText(Object(G.safeDecodeURIComponent)(r)),75,/-? +/)}})),wp.element.createElement("div",{className:"group"},wp.element.createElement("h5",{className:b,dangerouslySetInnerHTML:{__html:J(u,K.Helpers.sanitizeText(n),60)}})),wp.element.createElement(Z,null),wp.element.createElement("div",{className:"group"},wp.element.createElement("div",{className:"serp-description",dangerouslySetInnerHTML:{__html:J(u,K.Helpers.sanitizeText(i),160)}}))),wp.element.createElement("div",{className:"serp-preview-noindex"},wp.element.createElement("h3",null,Object(a.__)("Noindex robots meta is enabled","rank-math")),wp.element.createElement("p",null,Object(a.__)("This page will not appear in search results. You can disable noindex in the Advanced tab.","rank-math")))))})),te=Object(r.withSelect)((function(e){return{isNoIndex:"noindex"in e("rank-math").getRobots()}}))((function(){return wp.element.createElement("div",{className:"rank-math-editor-general"},wp.element.createElement(ee,{showScore:!1,showDevices:!0}),wp.element.createElement(z,null),wp.element.createElement(W,null),wp.element.createElement($,null))})),ne=n(10),ae=function(e){var t=l()("rank-math-social-preview","rank-math-social-preview-"+e.network,e.cardType),n=l()("rank-math-social-preview-title",{capitalize:rankMath.capitalizeTitle});return wp.element.createElement("div",{className:t},wp.element.createElement("div",{className:"rank-math-social-preview-item"},wp.element.createElement("div",{className:"rank-math-social-preview-meta"},wp.element.createElement("div",{className:"social-profile-image"}),e.children),wp.element.createElement("div",{className:"rank-math-social-preview-item-wrapper"},wp.element.createElement("div",{className:"rank-math-social-preview-image"},wp.element.createElement("img",{className:"rank-math-social-image-thumbnail",src:e.image,alt:""}),e.hasOverlay&&e.imageOverlay&&wp.element.createElement("img",{src:rankMath.overlayImages[e.imageOverlay].url,className:"rank-math-social-preview-image-overlay overlay-position-"+rankMath.overlayImages[e.imageOverlay].position,alt:""})),wp.element.createElement("div",{className:"rank-math-social-preview-caption"},"facebook"===e.network&&wp.element.createElement("h4",{className:"rank-math-social-preview-publisher"},e.siteurl),wp.element.createElement("h3",{className:n},e.title?ne.a.swap(e.title):e.serpTitle),wp.element.createElement("p",{className:"rank-math-social-preview-description"},e.description?ne.a.swap(e.description):e.serpDescription),"twitter"===e.network&&wp.element.createElement(o.Fragment,null,wp.element.createElement("h4",{className:"rank-math-social-preview-publisher"},wp.element.createElement(p.Dashicon,{icon:"admin-links"}),e.siteurl))))))},re=n(27),ie=function(e){return wp.element.createElement("div",{className:"components-base-control field-group"},wp.element.createElement(re.MediaUpload,{allowedTypes:["image"],multiple:!1,value:e.imageID,render:function(t){var n=t.open;return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Button,{onClick:n,className:"button",isPrimary:!0},e.imageID>0?Object(a.__)("Replace Image","rank-math"):Object(a.__)("Add Image","rank-math")),e.imageID>0&&wp.element.createElement(p.Button,{className:"button",isDestructive:!0,isLink:!0,onClick:e.removeImage},Object(a.__)("Remove Image","rank-math")))},onSelect:e.updateImage}),wp.element.createElement("p",{className:"components-base-control__help"},Object(a.__)("Upload at least 600x315px image. Recommended size is 1200x630px.","rank-math")),wp.element.createElement("div",{className:"notice notice-warning inline hidden"},wp.element.createElement("p",null,Object(a.__)("Image is smaller than the minimum size, please select a different image.","rank-math"))))};function oe(){var e=rankMath.overlayImages,t=[];return Object.keys(e).forEach((function(n){t.push({label:e[n].name,value:n})})),t}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(this,arguments)}var le=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math"),n=function(){if(t.getFacebookImage())return t.getFacebookImage();var e=t.getFeaturedImage();return Object(c.isUndefined)(e)||""===e?rankMath.defautOgImage:t.getFeaturedImage().source_url}();return{title:t.getFacebookTitle(),description:t.getFacebookDescription(),serpTitle:t.getSerpTitle(),serpDescription:t.getSerpDescription(),author:t.getFacebookAuthor(),image:n,imageID:t.getFacebookImageID(),hasOverlay:t.getFacebookHasOverlay(),imageOverlay:t.getFacebookImageOverlay()}})),Object(r.withDispatch)((function(e){return{removeImage:function(){e("rank-math").updateFacebookImage(""),e("rank-math").updateFacebookImageID(0),e("rank-math").updateFacebookHasOverlay(!1)},updateImage:function(t){e("rank-math").updateFacebookImage(t.url),e("rank-math").updateFacebookImageID(t.id)},updateTitle:function(t){e("rank-math").updateFacebookTitle(t)},updateDescription:function(t){e("rank-math").updateFacebookDescription(t)},updateImageOverlay:function(t){e("rank-math").updateFacebookImageOverlay(t)},toggleOverlay:function(t){e("rank-math").updateFacebookHasOverlay(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(ae,se({},e,{network:"facebook",siteurl:rankMath.parentDomain}),wp.element.createElement("div",{className:"social-name"},rankMath.assessor.serpData.authorName),wp.element.createElement("div",{className:"social-time"},wp.element.createElement("span",null,Object(a.__)("2 hrs","rank-math")),wp.element.createElement("span",null,wp.element.createElement(p.Dashicon,{icon:"admin-site",size:"12"})))),wp.element.createElement("div",{className:"notice notice-alt notice-info components-base-control"},wp.element.createElement("p",null,Object(a.__)("Customize the title, description and images of your post used while sharing on Facebook and Twitter.","rank-math")," ",wp.element.createElement("a",{href:"https://rankmath.com/kb/meta-box-social-tab/?utm_source=Plugin&utm_medium=Gutenberg%20Social%20Tab&utm_campaign=WP",target:"_blank",rel:"noreferrer noopener"},Object(a.__)("Read more","rank-math")))),wp.element.createElement(ie,e),wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-facebook-title"},Object(a.__)("Title","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextControl,{id:"rank-math-facebook-title",value:e.title,placeholder:e.serpTitle,onChange:e.updateTitle}),wp.element.createElement(V,{onClick:function(t){return e.updateTitle(e.title+" %"+t.variable+"%")}}))),wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-facebook-description"},Object(a.__)("Description","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextareaControl,{id:"rank-math-facebook-description",value:e.description,placeholder:e.serpDescription,onChange:e.updateDescription}),wp.element.createElement(V,{onClick:function(t){return e.updateDescription(e.description+" %"+t.variable+"%")}}))),wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.ToggleControl,{label:Object(a.__)("Add icon overlay to thumbnail","rank-math"),checked:e.hasOverlay,onChange:e.toggleOverlay}),wp.element.createElement("div",{className:e.hasOverlay?"components-base-control":"hidden"},wp.element.createElement(p.SelectControl,{value:e.imageOverlay,label:Object(a.__)("Icon overlay","rank-math"),options:oe(),onChange:e.updateImageOverlay}),wp.element.createElement("div",{className:"notice notice-alt notice-warning"},wp.element.createElement("p",null,Object(a.__)("Please be careful with this option. Although this option will help increase CTR on Facebook, it might get you penalised if over-used.","rank-math"))))))})),ce=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{country:t.getTwitterAppCountry(),description:t.getTwitterAppDescription(),iphoneName:t.getTwitterAppIphoneName(),iphoneID:t.getTwitterAppIphoneID(),iphoneUrl:t.getTwitterAppIphoneUrl(),ipadName:t.getTwitterAppIpadName(),ipadID:t.getTwitterAppIpadID(),ipadUrl:t.getTwitterAppIpadUrl(),googleplayName:t.getTwitterAppGoogleplayName(),googleplayID:t.getTwitterAppGoogleplayID(),googleplayUrl:t.getTwitterAppGoogleplayUrl()}})),Object(r.withDispatch)((function(e){return{updateAppIphoneName:function(t){e("rank-math").updateTwitterAppIphoneName(t)},updateAppIphoneID:function(t){e("rank-math").updateTwitterAppIphoneID(t)},updateAppIphoneUrl:function(t){e("rank-math").updateTwitterAppIphoneUrl(t)},updateAppIpadName:function(t){e("rank-math").updateTwitterAppIpadName(t)},updateAppIpadID:function(t){e("rank-math").updateTwitterAppIpadID(t)},updateAppIpadUrl:function(t){e("rank-math").updateTwitterAppIpadUrl(t)},updateAppGoogleplayName:function(t){e("rank-math").updateTwitterAppGoogleplayName(t)},updateAppGoogleplayID:function(t){e("rank-math").updateTwitterAppGoogleplayID(t)},updateAppGoogleplayUrl:function(t){e("rank-math").updateTwitterAppGoogleplayUrl(t)},updateAppDescription:function(t){e("rank-math").updateTwitterAppDescription(t)},updateAppCountry:function(t){e("rank-math").updateTwitterAppCountry(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.description,label:Object(a.__)("App Description","rank-math"),help:Object(a.__)("You can use this as a more concise description than what you may have on the app store. This field has a maximum of 200 characters. (optional)","rank-math"),onChange:e.updateAppDescription}),function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.iphoneName,label:Object(a.__)("iPhone App Name","rank-math"),help:Object(a.__)("The name of your app to show.","rank-math"),onChange:e.updateAppIphoneName}),wp.element.createElement(p.TextControl,{value:e.iphoneID,label:Object(a.__)("iPhone App ID","rank-math"),help:Object(a.__)("The numeric representation of your app ID in the App Store.","rank-math"),onChange:e.updateAppIphoneID}),wp.element.createElement(p.TextControl,{value:e.iphoneUrl,label:Object(a.__)("iPhone App URL","rank-math"),help:Object(a.__)("Your app's custom URL scheme (must include ://).","rank-math"),onChange:e.updateAppIphoneUrl}))}(e),function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.ipadName,label:Object(a.__)("iPad App Name","rank-math"),help:Object(a.__)("The name of your app to show.","rank-math"),onChange:e.updateAppIpadName}),wp.element.createElement(p.TextControl,{value:e.ipadID,label:Object(a.__)("iPad App ID","rank-math"),help:Object(a.__)("The numeric representation of your app ID in the App Store.","rank-math"),onChange:e.updateAppIpadID}),wp.element.createElement(p.TextControl,{value:e.ipadUrl,label:Object(a.__)("iPad App URL","rank-math"),help:Object(a.__)("Your app's custom URL scheme (must include ://).","rank-math"),onChange:e.updateAppIpadUrl}))}(e),function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.googleplayName,label:Object(a.__)("Google Play App Name","rank-math"),help:Object(a.__)("The name of your app to show.","rank-math"),onChange:e.updateAppGoogleplayName}),wp.element.createElement(p.TextControl,{value:e.googleplayID,label:Object(a.__)("Google Play App ID","rank-math"),help:Object(a.__)("Your app ID in the Google Play (.i.e. com.android.app)","rank-math"),onChange:e.updateAppGoogleplayID}),wp.element.createElement(p.TextControl,{value:e.googleplayUrl,label:Object(a.__)("Google Play App URL","rank-math"),help:Object(a.__)("Your app's custom URL scheme (must include ://).","rank-math"),onChange:e.updateAppGoogleplayUrl}))}(e),wp.element.createElement(p.TextControl,{value:e.country,label:Object(a.__)("App Country","rank-math"),help:Object(a.__)("If your application is not available in the US App Store, you must set this value to the two-letter country code for the App Store that contains your application.","rank-math"),onChange:e.updateAppCountry}))})),ue=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{url:t.getTwitterPlayerUrl(),size:t.getTwitterPlayerSize(),stream:t.getTwitterPlayerStream(),ctype:t.getTwitterPlayerStreamCtype()}})),Object(r.withDispatch)((function(e){return{updatePlayerUrl:function(t){e("rank-math").updateTwitterPlayerUrl(t)},updatePlayerSize:function(t){e("rank-math").updateTwitterPlayerSize(t)},updatePlayerStreamUrl:function(t){e("rank-math").updateTwitterPlayerStreamUrl(t)},updatePlayerStreamCtype:function(t){e("rank-math").updateTwitterPlayerStreamCtype(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.url,label:Object(a.__)("Player URL","rank-math"),help:Object(a.__)("HTTPS URL to iFrame player. This must be a HTTPS URL which does not generate active mixed content warnings in a web browser. The audio or video player must not require plugins such as Adobe Flash.","rank-math"),onChange:e.updatePlayerUrl}),wp.element.createElement(p.TextControl,{value:e.size,label:Object(a.__)("Player Size","rank-math"),help:Object(a.__)("iFrame width and height, specified in pixels in the following format: 600x400.","rank-math"),onChange:e.updatePlayerSize}),wp.element.createElement(p.TextControl,{value:e.stream,label:Object(a.__)("Stream URL","rank-math"),help:Object(a.__)("Optional URL to raw stream that will be rendered in Twitter’s mobile applications directly. If provided, the stream must be delivered in the MPEG-4 container format (the .mp4 extension). The container can store a mix of audio and video with the following codecs: Video: H.264, Baseline Profile (BP), Level 3.0, up to 640 x 480 at 30 fps. Audio: AAC, Low Complexity Profile (LC).","rank-math"),onChange:e.updatePlayerStreamUrl}),wp.element.createElement(p.TextControl,{value:e.ctype,label:Object(a.__)("Stream Content Type","rank-math"),help:Object(a.__)("The MIME type/subtype combination that describes the content contained in twitter:player:stream. Takes the form specified in RFC 6381. Currently supported content_type values are those defined in RFC 4337 (MIME Type Registration for MP4).","rank-math"),onChange:e.updatePlayerStreamCtype}))}));function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pe.apply(this,arguments)}var de=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math"),n=t.getTwitterUseFacebook(),a=function(){if(n&&t.getFacebookImage())return t.getFacebookImage();if(t.getTwitterImage())return t.getTwitterImage();var e=t.getFeaturedImage();return Object(c.isUndefined)(e)||""===e?rankMath.defautOgImage:t.getFeaturedImage().source_url}();return{useFacebook:n,cardType:t.getTwitterCardType(),title:n?t.getFacebookTitle():t.getTwitterTitle(),description:n?t.getFacebookDescription():t.getTwitterDescription(),serpTitle:t.getSerpTitle(),serpDescription:t.getSerpDescription(),author:t.getTwitterAuthor(),image:a,imageID:n?t.getFacebookImageID():t.getTwitterImageID(),hasOverlay:n?t.getFacebookHasOverlay():t.getTwitterHasOverlay(),imageOverlay:n?t.getFacebookImageOverlay():t.getTwitterImageOverlay()}})),Object(r.withDispatch)((function(e){return{removeImage:function(){e("rank-math").updateTwitterImage(""),e("rank-math").updateTwitterImageID(0),e("rank-math").updateTwitterHasOverlay(!1)},updateImage:function(t){e("rank-math").updateTwitterImage(t.url),e("rank-math").updateTwitterImageID(t.id)},updateTitle:function(t){e("rank-math").updateTwitterTitle(t)},updateDescription:function(t){e("rank-math").updateTwitterDescription(t)},updateImageOverlay:function(t){e("rank-math").updateTwitterImageOverlay(t)},toggleUseFacebook:function(t){e("rank-math").updateTwitterUseFacebook(t)},updateCardType:function(t){e("rank-math").updateTwitterCardType(t)},toggleOverlay:function(t){e("rank-math").updateTwitterHasOverlay(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(ae,pe({},e,{network:"twitter",siteurl:rankMath.parentDomain,classes:e.cardType,description:Object(c.truncate)(e.description?e.description:e.serpDescription,{length:240,separator:" "})}),wp.element.createElement("div",{className:"social-name"},rankMath.assessor.serpData.authorName,wp.element.createElement("span",{className:"social-username"},"@",e.author),wp.element.createElement("span",{className:"social-time"},Object(a.__)("2h","rank-math"))),wp.element.createElement("div",{className:"social-text"},Object(a.__)("The card for your website will look little something like this!","rank-math"))),wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.ToggleControl,{label:Object(a.__)("Use Data from Facebook Tab","rank-math"),checked:e.useFacebook,onChange:e.toggleUseFacebook})),wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.SelectControl,{value:e.cardType,label:Object(a.__)("Card Type","rank-math"),options:[{value:"summary_large_image",label:Object(a.__)("Summary Card with Large Image","rank-math")},{value:"summary_card",label:Object(a.__)("Summary Card","rank-math")},{value:"app",label:Object(a.__)("App Card","rank-math")},{value:"player",label:Object(a.__)("Player Card","rank-math")}],onChange:e.updateCardType})),"player"===e.cardType&&wp.element.createElement("div",{className:"notice notice-alt notice-info"},wp.element.createElement("p",null,Object(a.__)("Video clips and audio streams have a special place on the Twitter platform thanks to the Player Card. Player Cards must be submitted for approval before they can be used. More information: ","rank-math"),wp.element.createElement("a",{href:"https://dev.twitter.com/cards/types/player",target:"blank"},"https://dev.twitter.com/cards/types/player"))),"app"===e.cardType&&wp.element.createElement("div",{className:"notice notice-alt notice-info"},wp.element.createElement("p",null,Object(a.__)("The App Card is a great way to represent mobile applications on Twitter and to drive installs. More information: ","rank-math"),wp.element.createElement("a",{href:"https://dev.twitter.com/cards/types/app",target:"blank"}," https://dev.twitter.com/cards/types/app"))),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement(ie,e),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-twitter-title"},Object(a.__)("Title","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextControl,{id:"rank-math-twitter-title",value:e.title,placeholder:e.serpTitle,onChange:e.updateTitle}),wp.element.createElement(V,{onClick:function(t){return e.updateTitle(e.title+" %"+t.variable+"%")}}))),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-twitter-description"},Object(a.__)("Description","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextareaControl,{id:"rank-math-twitter-description",value:e.description,placeholder:e.serpDescription,onChange:e.updateDescription}),wp.element.createElement(V,{onClick:function(t){return e.updateDescription(e.description+" %"+t.variable+"%")}}))),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.ToggleControl,{label:Object(a.__)("Add icon overlay to thumbnail","rank-math"),checked:e.hasOverlay,onChange:e.toggleOverlay}),wp.element.createElement("div",{className:e.hasOverlay?"components-base-control":"hidden"},wp.element.createElement(p.SelectControl,{value:e.imageOverlay,label:Object(a.__)("Icon overlay","rank-math"),options:oe(),onChange:e.updateImageOverlay}),wp.element.createElement("div",{className:"notice notice-alt notice-warning"},wp.element.createElement("p",null,Object(a.__)("Please be careful with this option. Although this option will help increase CTR on Twitter, it might get you penalised if over-used.","rank-math"))))),"player"===e.cardType&&wp.element.createElement(ue,null),"app"===e.cardType&&wp.element.createElement(ce,null))})),he=function(){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TabPanel,{className:"rank-math-editor-social",activeClass:"is-active",tabs:[{name:"facebook",title:wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Dashicon,{icon:"facebook-alt"}),Object(a.__)("Facebook","rank-math")),view:le,className:"button-facebook"},{name:"twitter",title:wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Dashicon,{icon:"twitter"}),Object(a.__)("Twitter","rank-math")),view:de,className:"button-twitter"}]},(function(e){return Object(o.createElement)(e.view)})))},me=n(4),ge=n.n(me);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Oe(e);if(t){var r=Oe(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ye(this,n)}}function ye(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(s,e);var t,n,r,i=we(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this))._handleRef=e._handleRef.bind(ke(e)),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=ge()(this.component),t=e.find(".stars a"),n=e.find(".smiley");t.on("mouseenter",(function(){var e=ge()(this).index();t.removeClass("highlighted"),t.slice(0,e+1).addClass("highlighted"),e<2?n.removeClass("normal happy").addClass("angry"):e>3?n.removeClass("normal angry").addClass("happy"):n.removeClass("happy angry").addClass("normal")}))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_handleRef",value:function(e){this.component=e}},{key:"render",value:function(){for(var e=this,t=[],n=1;n<=5;n++)t.push(wp.element.createElement("a",{key:n,href:"https://s.rankmath.com/wpreview",target:"_blank",rel:"noopener noreferrer"},wp.element.createElement("span",{className:"dashicons dashicons-star-filled"})));return wp.element.createElement("div",{className:"ask-review",ref:this._handleRef},wp.element.createElement("h3",null,Object(a.__)("Rate Rank Math SEO","rank-math")),wp.element.createElement("p",null,wp.element.createElement(A,{tags:"em"},Object(a.__)("Hey, we noticed you are using Rank Math SEO plugin for more than a week now –{{em}}that's awesome!{{/em}} Could you please do us a BIG favor and give it a 5-star rating on WordPress to help us spread the word and boost our motivation?","rank-math"))),wp.element.createElement("div",{className:"stars-wrapper"},wp.element.createElement("div",{className:"face"},wp.element.createElement("div",{className:"smiley happy"},wp.element.createElement("div",{className:"eyes"},wp.element.createElement("div",{className:"eye"}),wp.element.createElement("div",{className:"eye"})),wp.element.createElement("div",{className:"mouth"}))),wp.element.createElement("div",{className:"stars"},t)),wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,wp.element.createElement("span",null,Object(a.__)("I already did. Please don't show this message again.","rank-math"))),onChange:function(){return e.alreadyReviewed()}}))}},{key:"alreadyReviewed",value:function(){ge.a.ajax({url:rankMath.ajaxurl,data:{action:"rank_math_already_reviewed",security:rankMath.security}}),rankMath.pluginReviewed=!0;var e=ge()(this.component);e.animate({opacity:.01},1500,(function(){var t=ge()(".rank-math-editor > .components-tab-panel__tabs > button");t.first().click(),t.last().remove(),e.remove()}))}}])&&be(t.prototype,n),r&&be(t,r),s}(o.Component),Te=Object(p.withFilters)("rankMath.analytics.reportButton")((function(){return null})),Ee=Object(u.compose)(Object(r.withSelect)((function(e){return{isOpen:e("rank-math").isSnippetEditorOpen()}})),Object(r.withDispatch)((function(e,t){return{toggleEditor:function(){e("rank-math").toggleSnippetEditor(!t.isOpen)}}})))((function(e){var t=e.isOpen,n=e.initialTab,r=void 0===n?"":n,i=e.toggleEditor,s=[{name:"general",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-settings"}),wp.element.createElement("span",null,Object(a.__)("General","rank-math"))),view:te}];return rankMath.canUser.social&&s.push({name:"social",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-social"}),wp.element.createElement("span",null,Object(a.__)("Social","rank-math"))),view:he}),rankMath.showReviewTab&&!1===rankMath.pluginReviewed&&s.push({name:"review",className:"review-tab",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-heart-filled"})),view:_e}),wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Button,{isPrimary:!0,className:"rank-math-edit-snippet",onClick:i},Object(a.__)("Edit Snippet","rank-math")),""===r&&wp.element.createElement(Te,null),t&&wp.element.createElement(p.Modal,{title:Object(a.__)("Preview Snippet Editor","rank-math"),closeButtonLabel:Object(a.__)("Close","rank-math"),shouldCloseOnClickOutside:!1,onRequestClose:i,className:"rank-math-modal",overlayClassName:"rank-math-modal-overlay"},wp.element.createElement(p.TabPanel,{className:"rank-math-tabs rank-math-editor",activeClass:"is-active",initialTabName:r,tabs:s},(function(e){return Object(o.createElement)(e.view)}))))})),je=function(){return wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(p.BaseControl,{className:"rank-math-social"},wp.element.createElement("span",{className:"components-base-control__label"},Object(a.__)("Social Media Preview","rank-math")),wp.element.createElement("p",{className:"cmb2-metabox-description"},Object(a.__)("Here you can view and edit the thumbnail, title and description that will be displayed when your site is shared on social media.","rank-math")),wp.element.createElement("p",{className:"cmb2-metabox-description"},Object(a.__)("Click on the button below to view and edit the preview.","rank-math")),wp.element.createElement(Ee,{buttonLabel:Object(a.__)("Preview & Edit Social Media","rank-math"),initialTab:"social"})))},Se=Object(u.withInstanceId)((function(e){var t=e.className,n=e.instanceId,a=e.children,r="rank-math-tooltip-"+n,i=l()("rank-math-tooltip",t);return wp.element.createElement("span",{className:i},wp.element.createElement("input",{id:r,type:"checkbox"}),wp.element.createElement("label",{htmlFor:r,className:"dashicons-before dashicons-editor-help"}),wp.element.createElement("div",{className:"rank-math-tooltip-content"},a))}));function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xe(e,t){return xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xe(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ae(e);if(t){var r=Ae(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(s,e);var t,n,r,i=Me(s);function s(){return Ie(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"shouldComponentUpdate",value:function(e){return e.isLoaded!==this.props.isLoaded||e.selectedKeyword.index!==this.props.selectedKeyword.index||e.isRefreshing!==this.props.isRefreshing}},{key:"render",value:function(){var e=this,t=rankMathEditor.getSelectedKeyword();return this.results=rankMathEditor.resultManager.getResult(t),this.isPrimary=0===this.props.selectedKeyword.index,Object(c.isUndefined)(this.results)?null:Object.keys(this.getGroups()).map((function(t){return e.renderGroup(t)}))}},{key:"renderGroup",value:function(e){this.errors=0;var t=this.renderGroupItems(e);return wp.element.createElement(p.PanelBody,{key:"panel-"+e,title:wp.element.createElement(o.Fragment,null,this.getGroupTitle(e),0===this.errors?wp.element.createElement("span",{className:"rank-math-group-score test-ok"},Object(a.__)("All Good","rank-math")):wp.element.createElement("span",{className:"rank-math-group-score test-fail"},this.errors," ",Object(a.__)("Errors","rank-math"))),initialOpen:"basic"===e,className:"rank-math-checklist"},wp.element.createElement("ul",null,t))}},{key:"renderGroupItems",value:function(e){var t=this,n=this.results.results,a=this.getGroupItems(e);return Object.keys(a).map((function(e){if(Object(c.isUndefined)(n[e])||!t.isPrimary&&a[e])return!1;var r=n[e],i=l()("seo-check-"+e,{"test-ok":r.hasScore(),"test-fail":!r.hasScore()});return r.hasScore()&&["contentHasAssets","lengthContent","keywordDensity"].includes(e)&&(i+=" "+function(e,t){var n=Object(c.round)(e/t*100);if(!(100<=n))return 49<n?"test-check-good":30<n?"test-check-ok":"test-check-bad"}(r.getScore(),r.getMaxScore())),!1===r.hasScore()&&(t.errors+=1),wp.element.createElement("li",{key:e,className:i},wp.element.createElement("span",{dangerouslySetInnerHTML:{__html:r.getText()}}),r.hasTooltip()?wp.element.createElement(Se,null,r.getTooltip()):null)}))}},{key:"getGroupItems",value:function(e){return("post"===rankMath.objectType?{basic:{keywordInTitle:!0,keywordInMetaDescription:!0,keywordInPermalink:!0,keywordIn10Percent:!0,keywordInContent:!1,lengthContent:!1},advanced:{keywordInSubheadings:!1,keywordInImageAlt:!0,keywordDensity:!1,lengthPermalink:!1,linksHasExternals:!1,linksNotAllExternals:!1,linksHasInternal:!1,keywordNotUsed:!0},"title-readability":{titleStartWithKeyword:!0,titleSentiment:!1,titleHasPowerWords:!1,titleHasNumber:!1},"content-readability":{contentHasTOC:!1,contentHasShortParagraphs:!1,contentHasAssets:!1}}:{basic:{keywordInTitle:!0,keywordInMetaDescription:!0,keywordInPermalink:!0},advanced:{titleStartWithKeyword:!0,keywordNotUsed:!0}})[e]}},{key:"getGroupTitle",value:function(e){return this.getGroups()[e]}},{key:"getGroups",value:function(){return"post"===rankMath.objectType?{basic:Object(a.__)("Basic SEO","rank-math"),advanced:Object(a.__)("Additional","rank-math"),"title-readability":Object(a.__)("Title Readability","rank-math"),"content-readability":Object(a.__)("Content Readability","rank-math")}:{basic:Object(a.__)("Basic SEO","rank-math"),advanced:Object(a.__)("Additional","rank-math")}}}])&&Ce(t.prototype,n),r&&Ce(t,r),s}(o.Component),Re=Object(r.withSelect)((function(e){var t=e("rank-math");return{isLoaded:t.isLoaded(),isRefreshing:t.isRefreshing(),selectedKeyword:t.getSelectedKeyword()}}))(Pe),Le=n(19),Fe=Object(r.withSelect)((function(e){return{isPro:e("rank-math").isPro()}}))((function(e){return e.isPro?rankMath.isUserRegistered?wp.element.createElement(p.Notice,{status:"warning",isDismissible:!1},wp.element.createElement(A,{components:{link:wp.element.createElement("a",{href:"https://rankmath.com/kb/score-100-in-tests/?utm_source=Plugin&utm_medium=Gutenberg%20General%20Tab%20Score%20Notice&utm_campaign=WP",target:"_blank",rel:"noopener noreferrer"})}},Object(a.__)("Read here to {{link}}Score 100/100{{/link}} ","rank-math"))):wp.element.createElement(p.Notice,{status:"warning",isDismissible:!1},wp.element.createElement(A,{components:{link:wp.element.createElement("a",{href:rankMath.adminurl+"?page=rank-math&view=help",target:"_blank",rel:"noopener noreferrer"})}},Object(a.__)("Activate your account by {{link}}connecting to Rank Math!{{/link}} ","rank-math"))):wp.element.createElement(p.Notice,{status:"warning",isDismissible:!1},wp.element.createElement(A,{components:{link:wp.element.createElement("a",{href:rankMath.assessor.futureSeo,target:"_blank",rel:"noopener noreferrer"}),strong:wp.element.createElement("strong",null)}},Object(a.__)("Want more? {{link}}{{strong}}Upgrade today to the PRO{{/strong}}{{/link}} version.","rank-math")))})),Ue=n(35),Be=n.n(Ue),He=n(36),Ve=n.n(He);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ke.apply(this,arguments)}function Ge(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function We(e,t){return We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},We(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Je(e);if(t){var r=Je(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return qe(this,n)}}function qe(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ye(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(i,e);var t,n,a,r=$e(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e))._handleRef=t._handleRef.bind(Ye(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.tagify=new Be.a(this.component,this.props.settings||{}),this.props.settings.callbacks.setup&&setTimeout((function(){e.props.settings.callbacks.setup.call(e.tagify),e.tagify.DOM.input.setAttribute("contenteditable",!0),e.tagify.DOM.input.addEventListener("blur",e.props.settings.callbacks.blur)}),100),this.addDragSort()}},{key:"shouldComponentUpdate",value:function(e){return this.tagify.settings.whitelist=e.settings.whitelist,e.showDropdown&&this.tagify.dropdown.show.call(this.tagify,e.showDropdown),!1===e.showDropdown&&this.tagify.dropdown.hide.call(this.tagify,!0),!1}},{key:"_handleRef",value:function(e){this.component=e}},{key:"render",value:function(){var e={ref:this._handleRef,name:this.props.name,className:this.props.className,placeholder:this.props.placeholder};return"textarea"===this.props.mode?wp.element.createElement("textarea",Ke({},e,{defaultValue:this.props.initialValue})):wp.element.createElement("input",Ke({},e,{defaultValue:this.props.initialValue}))}},{key:"addDragSort",value:function(){this.props.settings.callbacks.dragEnd&&new Ve.a(this.tagify.DOM.scope,{selector:".tagify__tag",callbacks:{dragEnd:this.props.settings.callbacks.dragEnd}})}},{key:"toArray",value:function(){return this.tagify.value.map((function(e){return e.value}))}},{key:"toString",value:function(){return this.toArray().join(",")}},{key:"queryTags",value:function(){return this.tagify.DOM.scope.querySelectorAll("tag")}}])&&Ge(t.prototype,n),a&&Ge(t,a),i}(o.Component);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=rt(e);if(t){var r=rt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return nt(this,n)}}function nt(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(l,e);var t,n,r,s=tt(l);function l(e){var t,n=e.keywords;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this)).state={},t.request=null,t.hasAdded=!1,t.clickCount=0,t.singleClickTimer=null,t.tagifyField=Object(o.createRef)(),t.keywords=n,t.hideDropdown=t.hideDropdown.bind(at(t)),window.rankMathEditor.focusKeywordField=at(t),t}return t=l,(n=[{key:"render",value:function(){var e=this,t={add:this.onAdd.bind(this),remove:this.onRemove.bind(this),edit:this.onEdit.bind(this),click:this.onClick.bind(this),setup:this.onSetup.bind(this),blur:this.hideDropdown};rankMath.isUserRegistered&&(t.input=Object(c.debounce)(this.onInput.bind(this),300));var n=Object(i.applyFilters)("rank_math_focus_keyword_settings",{addTagOnBlur:!0,maxTags:"post"===rankMath.objectType?rankMath.maxTags:1,whitelist:this.state.whitelist||[],focusableTags:!0,transformTag:function(t){t.value=e.stripTags(t.value)},templates:{tag:function(t){var n=t.title||t.value,a="";if(!t.class){var r=rankMathEditor.resultManager.getScore(K.Helpers.removeDiacritics(n));a+=e.getScoreClass(r)}return"<tag title='".concat(e.stripTags(n),"'\n tabIndex='0'\n contenteditable='false'\n spellcheck='false'\n class='tagify__tag ").concat(t.class?t.class:a,"'\n ").concat(e.getAttributesEsc(t),">\n <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n <div>\n <span class='tagify__tag-text'>").concat(e.stripTags(n),"</span>\n </div>\n </tag>")}},callbacks:t},this);return this.setKeywordsClasses(),wp.element.createElement(Xe,{ref:this.tagifyField,mode:"input",settings:n,showDropdown:this.state.showDropdown,initialValue:this.keywords,placeholder:Object(a.__)("Example: Rank Math SEO","rank-math")})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.showDropdown!==t.showDropdown||e.isRefreshing!==this.props.isRefreshing||e.keywords!==this.props.keywords}},{key:"getScoreClass",value:function(e){return 80<e?"good-fk":50<e?"ok-fk":"bad-fk"}},{key:"setKeywordsClasses",value:function(){var e=this;if(null!==this.tagifyField.current){var t=this.tagifyField.current,n=t.tagify.value;if(n.length>0){var a=t.queryTags();n.map((function(t,n){if(!Object(c.isUndefined)(a[n])){var r=rankMathEditor.resultManager.getScore(K.Helpers.removeDiacritics(t.value));a[n].classList.remove("ok-fk","good-fk","bad-fk"),a[n].classList.add(e.getScoreClass(r))}}))}}}},{key:"onSetup",value:function(){this.selectFirstKeyword(),this.setKeywordsClasses()}},{key:"onInput",value:function(e){var t=this;(e=Object(c.has)(e.detail,"value")?e.detail.value:e.detail.data.value).length<2||(this.hideDropdown(),this.hasAdded?this.hasAdded=!1:this.request=ge.a.ajax({url:rankMath.keywordsApi.url,data:{keyword:e,locale:rankMath.locale},success:function(n){if(t.hasAdded)t.hasAdded=!1;else{var a=ge.a.map(n,(function(e){return e}));t.setState({whitelist:a,showDropdown:e})}}}))}},{key:"onAdd",value:function(e){this.hasAdded=!0,0===e.detail.index&&this.props.updateSelectedKeyword(e.detail,this.tagifyField.current),this.updateKeywords()}},{key:"onRemove",value:function(e){this.hideDropdown(),0===e.detail.index&&this.onSetup(),rankMathEditor.resultManager.deleteResult(e.detail.data.value),this.selectFirstKeyword(),this.updateKeywords()}},{key:"onClick",value:function(e){var t=this;this.clickCount++,1===this.clickCount?this.singleClickTimer=setTimeout((function(){t.clickCount=0,t.props.updateSelectedKeyword(e.detail,t.tagifyField.current)}),400):2===this.clickCount&&(clearTimeout(this.singleClickTimer),this.clickCount=0)}},{key:"onEdit",value:function(){this.hasAdded=!0,this.updateKeywords()}},{key:"selectFirstKeyword",value:function(){var e=this.tagifyField.current,t=e.tagify.value,n={tag:"",index:0,data:{value:""}};t.length>0&&(n={tag:e.queryTags()[0],index:0,data:{value:t[0].value}}),this.props.updateSelectedKeyword(n,e)}},{key:"updateKeywords",value:function(){var e=this.tagifyField.current,t=this.stripTags(e.toString());this.props.updateKeywords(t)}},{key:"hideDropdown",value:function(){null!==this.request&&(this.request.abort(),this.request=null),this.setState({whitelist:[],showDropdown:!1})}},{key:"getAttributesEsc",value:function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t,n,a="",r=Object.keys(e);for(n=r.length;n--;)"class"!==(t=r[n])&&e.hasOwnProperty(t)&&e[t]&&(a+=""+t+(e[t]?'="'.concat(this.stripTags(e[t]),'"'):""));return a}},{key:"stripTags",value:function(e){return e=ge()("<textarea />").html(e).text(),((new DOMParser).parseFromString(e,"text/html").body.textContent||"").replace(/["<>]/g,"")||""}}])&&Qe(t.prototype,n),r&&Qe(t,r),l}(o.Component),ot=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{keywords:t.getKeywords(),isRefreshing:t.isRefreshing()}})),Object(r.withDispatch)((function(e){return{updateKeywords:function(t){e("rank-math").updateKeywords(t)},updateSelectedKeyword:function(t,n){n.queryTags().forEach((function(e){e.classList.remove("selected")})),Object(c.isUndefined)(t.tag)||""===t.tag||t.tag.classList.add("selected"),e("rank-math").updateSelectedKeyword(t)}}})))(it),st=Object(p.withFilters)("rankMath.focusKeywords.Trends")(Object(u.compose)(Object(r.withSelect)((function(e){return{isTrendsCtaOpen:e("rank-math").isTrendsCtaOpen()}})),Object(r.withDispatch)((function(e,t){return{toggleTrendsCta:function(){e("rank-math").toggleTrendsCta(!t.isTrendsCtaOpen)}}})))((function(e){var t=e.isTrendsCtaOpen,n=e.toggleTrendsCta;return wp.element.createElement(o.Fragment,null,wp.element.createElement("a",{href:"#",title:Object(a.__)("Trends","rank-math"),rel:"noreferrer noopener",id:"rank-math-compare-keywords-trigger",className:"button button-icon rank-math-compare-keywords-trigger",dangerouslySetInnerHTML:{__html:rankMath.trendsIcon},onClick:n}),t&&wp.element.createElement(p.Modal,{title:Object(a.__)("Google Trends","rank-math"),closeButtonLabel:Object(a.__)("Close","rank-math"),shouldCloseOnClickOutside:!0,onRequestClose:n,className:"rank-math-modal rank-math-trends-cta-modal",overlayClassName:"rank-math-modal-overlay"},wp.element.createElement("div",{className:"components-panel__body rank-math-trends-cta-wrapper"},wp.element.createElement("img",{src:rankMath.trendsPreviewImage,alt:"",className:"trends-cta blurred"}),wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center"},wp.element.createElement("div",{className:"rank-math-cta-box blue-ticks width-50"},wp.element.createElement("h3",null,Object(a.__)("Track Keyword Trends","rank-math")),wp.element.createElement("ul",null,wp.element.createElement("li",null,Object(a.__)("Data fetched directly from Google","rank-math")),wp.element.createElement("li",null,Object(a.__)("Analyze search trends and compare keywords","rank-math")),wp.element.createElement("li",null,Object(a.__)("See data from a particular Country or timeframe","rank-math"))),wp.element.createElement("a",{className:"button button-primary is-green",href:rankMath.trendsUpgradeLink,rel:"noreferrer noopener",target:"_blank"},rankMath.trendsUpgradeLabel))))))}))),lt=Object(p.withFilters)("rankMath.analytics.contentAI")((function(){return!1})),ct=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{isLoaded:t.isLoaded(),isPillarContent:t.getPillarContent()}})),Object(r.withDispatch)((function(e,t){return{togglePillarContent:function(t){e("rank-math").updatePillarContent(t)}}})))((function(e){var t=e.isLoaded,n=e.isPillarContent,r=e.togglePillarContent;return t?wp.element.createElement(p.PanelBody,{initialOpen:!0,className:"rank-math-focus-keyword"},wp.element.createElement("h2",{className:"components-panel__body-title"},Object(a.__)("Focus Keyword","rank-math"),wp.element.createElement(Se,null,wp.element.createElement(A,{components:{link:wp.element.createElement("a",{href:rankMath.assessor.hundredScoreLink,target:"_blank",rel:"noopener noreferrer"})}},Object(a.__)("Insert keywords you want to rank for. Try to {{link}}attain 100/100 points{{/link}} for better chances of ranking.","rank-math")))),wp.element.createElement(st,null),rankMath.currentEditor&&"classic"!==rankMath.currentEditor&&wp.element.createElement(lt,null),wp.element.createElement(Le.a.Slot,null,(function(e){return e.length>0?e:[]})),wp.element.createElement("div",null,wp.element.createElement(ot,null)),wp.element.createElement(Fe,null),"post"===rankMath.objectType&&wp.element.createElement(p.CheckboxControl,{className:"pillar-content",label:wp.element.createElement(o.Fragment,null,wp.element.createElement("strong",null,Object(a.__)("This post is Pillar Content","rank-math")),wp.element.createElement(Se,null,Object(a.__)("Select one or more Pillar Content posts for each post tag or category to show them in the Link Suggestions meta box.","rank-math"))),checked:n,onChange:r})):null})),ut=n(20),pt=Object(r.withDispatch)((function(e){return{toggleEditor:function(){e("rank-math").toggleSnippetEditor(!0)}}}))((function(e){var t=e.toggleEditor;return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(ee,{onClick:t}),wp.element.createElement(Ee,null),wp.element.createElement(ut.a.Slot,null,(function(e){return e.length>0?e:[]}))),wp.element.createElement(ct,null),rankMath.canUser.analysis&&wp.element.createElement(Re,null))})),dt=function(e,t,n){return!1===n?delete e[t]:e[t]=!0,e},ht=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math").getRobots();return{robots:t,isRobotIndex:"index"in t,isRobotNoIndex:"noindex"in t,isRobotNoFollow:"nofollow"in t,isRobotNoArchive:"noarchive"in t,isRobotNoImageIndex:"noimageindex"in t,isRobotNoSnippet:"nosnippet"in t}})),Object(r.withDispatch)((function(e,t){var n=t.robots;return{updateRobots:function(t,a){n=dt(n,t,a),"index"===t&&(n=dt(n,"noindex",!a)),"noindex"===t&&(n=dt(n,"index",!a)),e("rank-math").updateRobots(n)}}})))((function(e){return wp.element.createElement(p.BaseControl,{className:"rank-math-robots",id:"rank-math-robots",label:Object(a.__)("Robots Meta","rank-math")},wp.element.createElement("div",{className:"rank-math-robots-list"},wp.element.createElement(p.CheckboxControl,{className:"robot-choice-index",label:wp.element.createElement(o.Fragment,null,Object(a.__)("Index","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Instructs search engines to index and show these pages in the search results","rank-math"))),checked:e.isRobotIndex,onChange:function(t){return e.updateRobots("index",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-noindex",label:wp.element.createElement(o.Fragment,null,Object(a.__)("No Index","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Prevents pages from being indexed and displayed in search engine result pages","rank-math"))),checked:e.isRobotNoIndex,onChange:function(t){return e.updateRobots("noindex",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-nofollow",label:wp.element.createElement(o.Fragment,null,Object(a.__)("Nofollow","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Prevents search engines from following links on the pages","rank-math"))),checked:e.isRobotNoFollow,onChange:function(t){return e.updateRobots("nofollow",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-noarchive",label:wp.element.createElement(o.Fragment,null,Object(a.__)("No Archive","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Prevents search engines from showing Cached links for pages","rank-math"))),checked:e.isRobotNoArchive,onChange:function(t){return e.updateRobots("noarchive",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-noimageindex",label:wp.element.createElement(o.Fragment,null,Object(a.__)("No Image Index","rank-math"),wp.element.createElement(Se,null,Object(a.__)("This option prevents images on a page from being indexed by Google and other search engines","rank-math"))),checked:e.isRobotNoImageIndex,onChange:function(t){return e.updateRobots("noimageindex",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-nosnippet",label:wp.element.createElement(o.Fragment,null,Object(a.__)("No Snippet","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Prevents a snippet from being shown in the search results","rank-math"))),checked:e.isRobotNoSnippet,onChange:function(t){return e.updateRobots("nosnippet",t)}})))}));function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math");return{redirectionID:t.getRedirectionID(),redirectionUrl:t.getRedirectionUrl(),redirectionType:t.getRedirectionType(),hasRedirect:t.hasRedirect()}})),Object(r.withDispatch)((function(e,t){return{toggle:function(){e("rank-math").updateHasRedirect(!t.hasRedirect),e("rank-math").updateRedirectionItem(gt(gt({},t),{},{hasRedirect:!t.hasRedirect}))},updateRedirection:function(n,a){e("rank-math").updateRedirection(n,a),e("rank-math").updateRedirectionItem(gt(gt({},t),{},ft({},n,a)))}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.ToggleControl,{className:e.hasRedirect?"is-open":"is-close",label:Object(a.__)("Redirect","rank-math"),checked:e.hasRedirect,onChange:function(){return e.toggle()}}),e.hasRedirect&&wp.element.createElement(p.SelectControl,{label:Object(a.__)("Redirection Type","rank-math"),className:e.hasRedirect?"":"hidden",value:e.redirectionType,onChange:function(t){return e.updateRedirection("redirectionType",t)},options:[{value:"301",label:Object(a.__)("301 Permanent Move","rank-math")},{value:"302",label:Object(a.__)("302 Temporary Move","rank-math")},{value:"307",label:Object(a.__)("307 Temporary Redirect","rank-math")},{value:"410",label:Object(a.__)("410 Content Deleted","rank-math")},{value:"451",label:Object(a.__)("451 Content Unavailable for Legal Reasons","rank-math")}]}),!1===["410","451"].includes(e.redirectionType)&&wp.element.createElement(p.TextControl,{type:"url",autoComplete:"off",label:Object(a.__)("Destination URL","rank-math"),value:e.redirectionUrl,placeholder:"https://rankmath.com/",className:e.hasRedirect?"":"hidden",onChange:function(t){return e.updateRedirection("redirectionUrl",t)}}),wp.element.createElement(p.TextControl,{type:"hidden",value:e.redirectionID,className:"hidden"}))})),vt=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math"),n=rankMathEditor.assessor.dataCollector;return{placeholder:t.getCanonicalUrl()?t.getCanonicalUrl():n.getPermalink()?n.getPermalink():"https://rankmath.com/",canonicalUrl:t.getCanonicalUrl()}})),Object(r.withDispatch)((function(e){return{onUrlChange:function(t){e("rank-math").updateCanonicalUrl(t)}}})))((function(e){var t=e.canonicalUrl,n=e.placeholder,r=e.onUrlChange;return wp.element.createElement(p.BaseControl,{className:"rank-math-canonical"},wp.element.createElement("span",{className:"components-base-control__label"},Object(a.__)("Canonical URL","rank-math"),wp.element.createElement(Se,null,Object(a.__)("The canonical URL informs search crawlers which page is the main page if you have double content","rank-math"))),wp.element.createElement(p.TextControl,{type:"url",autoComplete:"off",value:t,placeholder:n,onChange:function(e){return r(e)}}))})),wt=Object(u.compose)(Object(r.withSelect)((function(e){return{title:e("rank-math").getBreadcrumbTitle()}})),Object(r.withDispatch)((function(e){return{onTitleChange:function(t){e("rank-math").updateBreadcrumbTitle(t)}}})))((function(e){var t=e.title,n=e.onTitleChange;return wp.element.createElement(p.BaseControl,{className:"rank-math-breadcrumb-title"},wp.element.createElement("span",{className:"components-base-control__label"},Object(a.__)("Breadcrumb Title","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Breadcrumb Title to use for this post","rank-math"))),wp.element.createElement(p.TextControl,{value:t,onChange:function(e){return n(e)}}))}));function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t={"max-snippet":-1,"max-video-preview":-1,"max-image-preview":"large"},Tt=Object(u.compose)(Object(r.withSelect)((function(e){var t=e("rank-math").getAdvancedRobots(),n=kt({},t);Object(c.defaults)(n,_t);var a=null,r=null,i=null;return"max-snippet"in t&&(a=n["max-snippet"]),"max-image-preview"in t&&(r=n["max-image-preview"]),"max-video-preview"in t&&(i=n["max-video-preview"]),{meta:t,isSnippet:a,isImage:r,isVideo:i,maxSnippet:a?n["max-snippet"]:-1,maxImage:n["max-image-preview"],maxVideo:i?n["max-video-preview"]:-1}})),Object(r.withDispatch)((function(e,t){var n=kt({},t.meta);return{updateRobots:function(t,a){Object(c.isBoolean)(a)?!1===a?delete n[t]:n[t]=_t[t]:n[t]=a,e("rank-math").updateAdvancedRobots(n)}}})))((function(e){return wp.element.createElement(p.BaseControl,{className:"rank-math-robots",id:"rank-math-robots",label:Object(a.__)("Advanced Robots Meta","rank-math")},wp.element.createElement("div",{className:"rank-math-robots-list advanced-robots"},wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,Object(a.__)("Max Snippet","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Specify a maximum text-length, in characters, of a snippet for your page","rank-math"))),checked:e.isSnippet,onChange:function(t){return e.updateRobots("max-snippet",t)}}),wp.element.createElement(p.TextControl,{type:"number",value:e.maxSnippet,onChange:function(t){return e.updateRobots("max-snippet",t)}}),wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,Object(a.__)("Max Video Preview","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Specify a maximum duration in seconds of an animated video preview","rank-math"))),checked:e.isVideo,onChange:function(t){return e.updateRobots("max-video-preview",t)}}),wp.element.createElement(p.TextControl,{type:"number",value:e.maxVideo,onChange:function(t){return e.updateRobots("max-video-preview",t)}}),wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,Object(a.__)("Max Image Preview","rank-math"),wp.element.createElement(Se,null,Object(a.__)("Specify a maximum size of image preview to be shown for images on this page","rank-math"))),checked:e.isImage,onChange:function(t){return e.updateRobots("max-image-preview",t)}}),wp.element.createElement(p.SelectControl,{value:e.maxImage,onChange:function(t){return e.updateRobots("max-image-preview",t)},options:[{value:"large",label:Object(a.__)("Large","rank-math")},{value:"standard",label:Object(a.__)("Standard","rank-math")},{value:"none",label:Object(a.__)("None","rank-math")}]})))})),Et=Object(u.compose)(Object(r.withSelect)((function(e){return{showScore:e("rank-math").getShowScoreFrontend()}})),Object(r.withDispatch)((function(e){return{toggleScore:function(t){e("rank-math").toggleFrontendScore(t)}}})))((function(e){var t=e.showScore,n=e.toggleScore;return wp.element.createElement(p.BaseControl,{className:"rank-math-frontend-score"},wp.element.createElement(p.ToggleControl,{label:Object(a.__)("Show SEO Score on Front-end","rank-math"),checked:t,onChange:n}))})),jt=n(21),St=Object(p.withFilters)("rankMath.advanced.newsSitemap")((function(){return null})),Dt=function(){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(ht,null)),wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(Tt,null)),wp.element.createElement(St,null),wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(vt,null)),rankMath.assessor.hasBreadcrumb&&wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(wt,null)),rankMath.assessor.hasRedirection&&wp.element.createElement(p.PanelBody,{initialOpen:!0,className:"rank-math-redirect"},wp.element.createElement(bt,null)),rankMath.frontEndScore&&wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(Et,null)),wp.element.createElement(jt.a.Slot,null,(function(e){return e.length>0?e:[]})))},It=n(37),Ct=n.n(It),xt={init:function(){this.cacheProps(),this.initVars(),this.bindEvents()},cacheProps:function(){this.root=document.documentElement,this.$wpAdminbar=ge()("#wpadminbar")},initVars:function(){this.$wpAdminbar.length&&this.setWpAdminbarHeight.call(this)},bindEvents:function(){window.addEventListener("resize",Ct()(this.onWindowResize.bind(this)))},onWindowResize:function(){this.$wpAdminbar.length&&this.setWpAdminbarHeight.call(this)},setWpAdminbarHeight:function(){this.root.style.setProperty("--rankmath-wp-adminbar-height",this.$wpAdminbar.outerHeight()+"px")}};ge()((function(){xt.init()}));var Mt=function(e){"social"===e&&Object(r.dispatch)("rank-math").toggleSnippetEditor(!0)};t.a=function(){return wp.element.createElement(E,{className:"rank-math-tabs",activeClass:"is-active",tabs:(e=[],rankMath.canUser.general&&e.push({name:"general",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-settings",title:Object(a.__)("General","rank-math")}),wp.element.createElement("span",null,Object(a.__)("General","rank-math"))),view:pt,className:"rank-math-general-tab"}),rankMath.canUser.advanced&&e.push({name:"advanced",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-toolbox",title:Object(a.__)("Advanced","rank-math")}),wp.element.createElement("span",null,Object(a.__)("Advanced","rank-math"))),view:Dt,className:"rank-math-advanced-tab"}),rankMath.canUser.social&&e.push({name:"social",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-social",title:Object(a.__)("Social","rank-math")}),wp.element.createElement("span",null,Object(a.__)("Social","rank-math"))),view:je,className:"rank-math-social-tab"}),Object(i.applyFilters)("rank_math_sidebar_tabs",e)),onSelect:Mt},(function(e){return wp.element.createElement("div",{className:"rank-math-tab-content-"+e.name},Object(o.createElement)(e.view))}));var e}},function(e,t,n){"use strict";var a=n(28),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(29),o=n(40),s=n(41),l="function"==typeof Symbol&&Symbol.iterator;function c(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,a={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return a[e]}))):t.toString(36);var n,a}function u(e,t,n,a){var i,s=typeof e;if("undefined"!==s&&"boolean"!==s||(e=null),null===e||"string"===s||"number"===s||"object"===s&&e.$$typeof===r)return n(a,e,""===t?"."+c(e,0):t),1;var p=0,d=""===t?".":t+":";if(Array.isArray(e))for(var h=0;h<e.length;h++)p+=u(i=e[h],d+c(i,h),n,a);else{var m=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(m){0;for(var g,f=m.call(e),b=0;!(g=f.next()).done;)p+=u(i=g.value,d+c(i,b++),n,a)}else if("object"===s){0;var v=""+e;o(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===v?"object with keys {"+Object.keys(e).join(", ")+"}":v,"")}}return p}var p=/\/+/g;function d(e){return(""+e).replace(p,"$&/")}var h,m,g=f,f=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},b=function(e){var t=this;o(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)};function v(e,t,n,a){this.result=e,this.keyPrefix=t,this.func=n,this.context=a,this.count=0}function w(e,t,n){var r,o,s=e.result,l=e.keyPrefix,c=e.func,u=e.context,p=c.call(u,t,e.count++);Array.isArray(p)?y(p,s,n,i.thatReturnsArgument):null!=p&&(a.isValidElement(p)&&(r=p,o=l+(!p.key||t&&t.key===p.key?"":d(p.key)+"/")+n,p=a.cloneElement(r,{key:o},void 0!==r.props?r.props.children:void 0)),s.push(p))}function y(e,t,n,a,r){var i="";null!=n&&(i=d(n)+"/");var o=v.getPooled(t,i,a,r);!function(e,t,n){null==e||u(e,"",t,n)}(e,w,o),v.release(o)}v.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h=function(e,t,n,a){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n,a),i}return new r(e,t,n,a)},(m=v).instancePool=[],m.getPooled=h||g,m.poolSize||(m.poolSize=10),m.release=b;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return s(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(a.isValidElement(e))return s(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;o(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)y(e[n],t,n,i.thatReturnsArgument);return t}},function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,i,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,i,o,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var a=n(29);e.exports=a},function(e,t,n){"use strict";function a(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(a)}},function(e,t,n){var a=n(31);e.exports=function(){return a.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(45))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var a=n(47),r=n(30),i=n(49),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},function(e,t,n){var a=n(48),r=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(r,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var a=n(50),r=n(53);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},function(e,t,n){var a=n(32),r=n(51),i=n(52),o=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):i(e)}},function(e,t,n){var a=n(32),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var a=!0}catch(e){}var r=o.call(e);return a&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var a=n(3),r=n(0),i=n(2),o=n(13),s=n.n(o),l=n(11),c=n(7),u=n(10),p=n(22);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize=!1,this.isSavingRedirection=!1,this.isSavingSchemas=!1,this.oldSlug=!1,this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1},this.refresh=this.refresh.bind(this),this.isSavingPost=this.isSavingPost.bind(this),this.getPostAttribute=this.getPostAttribute.bind(this),this.subscribeToGutenberg()}var t,n,o;return t=e,(n=[{key:"collectGutenbergData",value:function(){if(Object(p.a)())return this._coreEditorSelect||(this._coreEditorSelect=Object(i.select)("core/editor")),!1===this.oldSlug&&""!==this.getSlug()&&(this.oldSlug=this.getSlug()),{id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getPostAttribute("content"),title:this.getPostAttribute("title"),excerpt:this.getPostAttribute("excerpt"),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return this._coreEditorSelect.getCurrentPostId()}},{key:"getPermalink",value:function(){if("auto-draft"===this.getPostAttribute("status"))return"";var e=this.getPostAttribute("generated_slug");return"auto-draft"!==e&&"en"===rankMath.locale||(e=""),Object(l.safeDecodeURIComponent)(this._coreEditorSelect.getPermalink())}},{key:"getSlug",value:function(){var e=this.getPostAttribute("generated_slug");return"auto-draft"!==e&&"en"===rankMath.locale||(e=""),Object(l.safeDecodeURIComponent)(this.getPostAttribute("slug")||e)}},{key:"getFeaturedImage",value:function(){var e=this.getPostAttribute("featured_media");if(this.isValidMediaId(e)){var t=Object(i.select)("core").getMedia(e);if(!Object(a.isUndefined)(t))return t}}},{key:"isValidMediaId",value:function(e){return"number"==typeof e&&0<e}},{key:"getPostAttribute",value:function(e){return Object(p.a)()?(this._coreEditorSelect||(this._coreEditorSelect=Object(i.select)("core/editor")),this._coreEditorSelect.getEditedPostAttribute(e)):""}},{key:"subscribeToGutenberg",value:function(){this.subscriber=Object(a.debounce)(this.refresh,500),Object(i.subscribe)(this.subscriber),Object(i.subscribe)(this.isSavingPost)}},{key:"refresh",value:function(){var e=h({},this._data);this._data=this.collectGutenbergData(),this.handleEditorChange(e)}},{key:"isSavingPost",value:function(){var e=Object(i.select)("core/editor");if(!e.isAutosavingPost()&&e.isSavingPost()){var t=Object(i.select)("rank-math").getDirtyMetadata();Object(a.isEmpty)(t)||(s()({method:"POST",path:"rankmath/v1/updateMeta",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,meta:t,content:this.getPostAttribute("content")}}).then((function(e){Object(c.doAction)("rank_math_metadata_updated",e)})),Object(i.dispatch)("rank-math").resetDirtyMetadata()),"publish"===this.getPostAttribute("status")&&(this.saveRedirection(),this.autoCreateRedirectionNotice()),this.saveSchemas()}}},{key:"saveSchemas",value:function(){var e=this;if(!this.isSavingSchemas){var t=Object(i.select)("rank-math").getSchemas();if(!Object(a.isEmpty)(t)&&Object(i.select)("rank-math").hasSchemaUpdated()){this.isSavingSchemas=!0;var n=Object(i.select)("rank-math").getEditSchemas();s()({method:"POST",path:"rankmath/v1/updateSchemas",data:{objectID:this.getPostID(),objectType:rankMath.objectType,schemas:t}}).then((function(r){if(!Object(a.isEmpty)(r)){var o=h({},t),s=h({},n);Object(a.map)(r,(function(e,t){o["schema-"+e]=h({},o[t]),s["schema-"+e]=h({},s[t]),delete o[t],delete s[t]})),Object(i.dispatch)("rank-math").updateSchemas(o),Object(i.dispatch)("rank-math").updateEditSchemas(s)}setTimeout((function(){Object(i.dispatch)("rank-math").schemaUpdated(!1),Object(c.doAction)("rank_math_schema_changed"),e.isSavingSchemas=!1}),2e3)}))}}}},{key:"saveRedirection",value:function(){var e=this;if(!this.isSavingRedirection){var t=Object(i.select)("rank-math").getRedirectionItem();if(!Object(a.isEmpty)(t)){this.isSavingRedirection=!0,t.objectID=this.getPostID(),t.redirectionSources=this.getPermalink();var n=Object(i.dispatch)("rank-math"),r=Object(i.dispatch)("core/notices");n.resetRedirection(),s()({method:"POST",path:"rankmath/v1/updateRedirection",data:t}).then((function(t){"delete"===t.action?(r.createInfoNotice(t.message,{id:"redirectionNotice"}),n.updateRedirection("redirectionID",0)):"update"===t.action?r.createInfoNotice(t.message,{id:"redirectionNotice"}):"new"===t.action&&(n.updateRedirection("redirectionID",t.id),r.createSuccessNotice(t.message,{id:"redirectionNotice"})),setTimeout((function(){e.isSavingRedirection=!1,r.removeNotice("redirectionNotice")}),2e3)}))}}}},{key:"autoCreateRedirectionNotice",value:function(){if(rankMath.assessor.hasRedirection&&Object(a.get)(rankMath,["assessor","autoCreateRedirection"],!1)&&!Object(i.select)("core/editor").isEditedPostNew()&&!1!==this.oldSlug){var e=this.getSlug();if(this.oldSlug!==e){var t=Object(i.dispatch)("core/notices");this.oldSlug=e,t.createSuccessNotice(Object(r.__)("Auto redirection created.","rank-math"),{id:"redirectionAutoCreationNotice"}),setTimeout((function(){t.removeNotice("redirectionAutoCreationNotice")}),2e3)}}}},{key:"handleEditorChange",value:function(e){var t=this,n={id:"handleIDChange",slug:"handleSlugChange",title:"handleTitleChange",excerpt:"handleExcerptChange",content:"handleContentChange",featuredImage:"handleFeaturedImageChange"};if(Object(a.isInteger)(e.id))return this.initialize?void Object(a.forEach)(n,(function(n,a){t._data[a]!==e[a]&&t[n](t._data[a])})):(this.initialize=!0,Object(a.forEach)(n,(function(e,n){t[e](t._data[n])})),void rankMathEditor.refresh("init"));Object(i.dispatch)("rank-math").refreshResults()}},{key:"handleIDChange",value:function(e){Object(i.dispatch)("rank-math").updatePostID(e),Object(i.dispatch)("rank-math").toggleLoaded(!0)}},{key:"handleSlugChange",value:function(){""!==this.getSlug()&&!1===this.oldSlug&&(this.oldSlug=this.getSlug()),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(e){u.a.setVariable("title",e),u.a.setVariable("term",e),u.a.setVariable("author",e),Object(i.dispatch)("rank-math").updateSerpTitle(Object(i.select)("rank-math").getTitle()),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(e){u.a.setVariable("excerpt",e),u.a.setVariable("excerpt_only",e),u.a.setVariable("wc_shortdesc",e),u.a.setVariable("seo_description",e),Object(i.dispatch)("rank-math").updateSerpDescription(Object(i.select)("rank-math").getDescription())}},{key:"handleFeaturedImageChange",value:function(e){Object(i.dispatch)("rank-math").updateFeaturedImage(e),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){Object(i.dispatch)("rank-math").updateSerpDescription(Object(i.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"getData",value:function(){return this._data}}])&&g(t.prototype,n),o&&g(t,o),e}();t.a=f},function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(22);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}t.a=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"post"===rankMath.objectType&&rankMath.postSettings.linkSuggestions){r.a.fn.extend({insertLink:function(e,t){var n=this[0],a="";if(n.selectionStart||"0"===n.selectionStart){var r=n.selectionStart,i=n.selectionEnd,o=n.scrollTop;a='<a href="'+e+'">'+n.value.substring(r,i)+"</a>",r===i&&(a='<a href="'+e+'">'+t+"</a>"),n.value=n.value.substring(0,r)+a+n.value.substring(i,n.value.length),n.focus(),n.selectionStart=r+a.length,n.selectionEnd=r+a.length,n.scrollTop=o}else a='<a href="'+e+'">'+t+"</a>",n.value+=a,n.focus()}});if("function"==typeof ClipboardJS)new ClipboardJS(".suggestion-copy").on("success",(function(e){var t=r()(e.trigger).parent().next(".suggestion-title"),n=t.html();t.text("Link Copied"),setTimeout((function(){t.html(n)}),1500)}));if("object"!==("undefined"==typeof tinymce?"undefined":o(tinymce)))return!0;var t=null,n=null;r()(".suggestion-insert").on("click",(function(e){e.preventDefault();var a,o,s,l,c=r()(this);if(c.hasClass("clicked"))return!0;if(null!==tinymce.activeEditor&&!0!==tinymce.activeEditor.isHidden()){t=tinymce.activeEditor,n=r()(t.getBody());var u=t.selection.getContent()||"";if(n.find("a[data-mce-selected]").length){var p=(a="",o="",s=t.selection.getStart(),(l=t.dom.getParent(s,"a[href]"))||(o=t.selection.getContent({format:"raw"}))&&-1!==o.indexOf("</a>")&&((a=o.match(/href="([^">]+)"/))&&a[1]&&(l=t.$('a[href="'+a[1]+'"]',s)[0]),l&&t.selection.select(l)),l);t.dom.setAttribs(p,{href:c.data("url")}),r()(p).text()!==u&&t.insertContent(u)}else u.length?t.insertContent('<a href="'+c.data("url")+'">'+u+"</a>"):t.insertContent('<a href="'+c.data("url")+'">'+c.data("text")+"</a>")}else if(Object(i.a)()){var d=wp.data.select("core/block-editor").getSelectedBlock(),h=wp.data.select("core/block-editor").getSelectedBlock().clientId,m=wp.data.select("core/block-editor").getSelectionStart(),g=wp.data.select("core/block-editor").getSelectionEnd(),f=d.attributes.content,b=f.substring(m.offset,g.offset),v='<a href="'+c.data("url")+'">'+c.data("text")+"</a>";""!==b&&(v='<a href="'+c.data("url")+'">'+b+"</a>");var w=f.substring(0,m.offset)+v+f.substring(g.offset,f.length);wp.data.dispatch("core/block-editor").updateBlock(h,{attributes:{content:w}})}var y=c.closest(".suggestion-item").find(".suggestion-title"),k=y.html();y.text("Link Inserted"),c.addClass("clicked"),setTimeout((function(){var e,t,n,a;y.html(k),c.removeClass("clicked"),!0===rankMath.postSettings.useFocusKeyword&&(t=c,n=(e=y).data("fkcount")||0,a=e.data("fk"),(n+=1)===a.length&&(n=0),e.find(">a").text(a[n]),e.data("fkcount",n),t.data("text",a[n]))}),1500)})),r()("#rank_math_metabox_link_suggestions").find("h2").append(r()("#rank-math-link-suggestions-tooltip").html())}}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),i=n(3),o=n(8),s=n(7),l=n(2),c=n(5),u=n(0),p=n(23),d=n(13),h=n.n(d);function m(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){m(i,a,r,o,s,"next",e)}function s(e){m(i,a,r,o,s,"throw",e)}o(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.analyzer=new o.Analyzer({i18n:u,analyses:rankMath.assessor.researchesTests}),this.dataCollector=t,this.promises=[],this.hooks(),this.registerRefresh(),this.saveEvent()}var t,n,a;return t=e,n=[{key:"hooks",value:function(){this.updateKeywordResult=this.updateKeywordResult.bind(this),this.sanitizeData=this.sanitizeData.bind(this),this.addScoreElem=this.addScoreElem.bind(this),Object(s.addAction)("rankMath_analysis_keywordUsage_updated","rank-math",this.updateKeywordResult),Object(s.addFilter)("rank_math_sanitize_meta_value","rank-math",this.sanitizeData),Object(s.addFilter)("rank_math_sanitize_data","rank-math",this.sanitizeData),Object(s.addAction)("rank_math_loaded","rank-math",this.addScoreElem,11)}},{key:"addScoreElem",value:function(){var e=this;rankMath.showScore&&setTimeout((function(){e.scoreText='<span class="score-text"><span class="score-icon"><svg viewBox="0 0 460 460" xmlns="http://www.w3.org/2000/svg" width="20"><g><path d="m462 234.84-76.17 3.43 13.43 21-127 81.18-126-52.93-146.26 60.97 10.14 24.34 136.1-56.71 128.57 54 138.69-88.61 13.43 21z"/><path d="m54.1 312.78 92.18-38.41 4.49 1.89v-54.58h-96.67zm210.9-223.57v235.05l7.26 3 89.43-57.05v-181zm-105.44 190.79 96.67 40.62v-165.19h-96.67z"/></g></svg></span> SEO: <strong>Not available</strong></span>',e.scoreElem=r()('<div class="misc-pub-section rank-math-seo-score">'+e.scoreText+"</div>"),e.scoreText=e.scoreElem.find("strong"),r()("#misc-publishing-actions").append(e.scoreElem),e.fkScoreText='<span class="score-text">Not available</span>',e.fkScoreElem=r()('<div class="rank-math-seo-score below-focus-keyword">'+e.fkScoreText+"</div>"),e.fkScoreText=e.fkScoreElem.find("span"),r()("#rank-math-metabox-wrapper .rank-math-focus-keyword").find("tags").parent("div").append(e.fkScoreElem),e.updateScore=e.updateScore.bind(e),e.updateScore(),Object(s.addAction)("rank_math_refresh_results","rank-math",e.updateScore)}),1500)}},{key:"updateScore",value:function(){var e=rankMathEditor.resultManager.getScore(rankMathEditor.getPrimaryKeyword()),t=Object(p.a)(e);this.scoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.fkScoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.scoreElem.addClass(t),this.fkScoreElem.addClass(t),this.scoreText.html(e+" / 100"),this.fkScoreText.html(e+" / 100")}},{key:"sanitizeData",value:function(e,t){return"schemas"===t||Object(i.isObject)(e)||Object(i.isEmpty)(e)?e:o.Helpers.sanitizeAppData(e)}},{key:"getPaper",value:function(e,t){var n=this.dataCollector.getData(),a=new o.Paper("",{locale:rankMath.localeFull});return a.setTitle(Object(l.select)("rank-math").getSerpTitle()),a.setPermalink(n.slug),a.setDescription(Object(l.select)("rank-math").getSerpDescription()),a.setUrl(n.permalink),a.setText(Object(i.unescape)(Object(s.applyFilters)("rank_math_content",n.content))),a.setKeyword(e),a.setKeywords(t),Object(i.isUndefined)(n.featuredImage)||(a.setThumbnail(n.featuredImage.source_url),a.setThumbnailAltText(o.Helpers.removeDiacritics(n.featuredImage.alt_text))),a}},{key:"registerRefresh",value:function(){var e=this;this.refresh=Object(i.debounce)((function(t){if(!1!==Object(l.select)("rank-math").isLoaded()){var n=Object(l.select)("rank-math").getKeywords().split(","),a=[];Object(s.doAction)("rank_math_"+t+"_refresh"),n.map((function(t,r){var i=e.getPaper(o.Helpers.removeDiacritics(t),n),s=0===r?rankMath.assessor.researchesTests:e.filterTests(e.getSecondaryKeywordTests());a.push(e.analyzer.analyzeSome(s,i).then((function(e){rankMathEditor.resultManager.update(i.getKeyword(),e,0===r),0===r&&Object(l.dispatch)("rank-math").updateAnalysisScore(rankMathEditor.resultManager.getScore(i.getKeyword()))}))),Promise.all(a).then((function(){Object(l.dispatch)("rank-math").refreshResults(),e.refreshResults()}))}))}}),500)}},{key:"updateKeywordResult",value:function(e,t){rankMathEditor.resultManager.update(e,{keywordNotUsed:t}),e===rankMathEditor.getSelectedKeyword().toLowerCase()&&Object(l.dispatch)("rank-math").refreshResults()}},{key:"getSecondaryKeywordTests",value:function(){return["keywordInContent","lengthContent","keywordInSubheadings","keywordDensity","lengthPermalink","linksHasExternals","linksNotAllExternals","linksHasInternal","titleSentiment","titleHasPowerWords","titleHasNumber","contentHasTOC","contentHasShortParagraphs","contentHasAssets"]}},{key:"getPrimaryKeyword",value:function(){var e=Object(l.select)("rank-math").getKeywords();return o.Helpers.removeDiacritics(e.split(",")[0])}},{key:"getSelectedKeyword",value:function(){var e=Object(l.select)("rank-math").getKeywords(),t=Object(l.select)("rank-math").getSelectedKeyword(),n=""!==t.data.value?t.data.value:e.split(",")[0];return o.Helpers.removeDiacritics(n)}},{key:"getResearch",value:function(e){return this.analyzer.researcher.getResearch(e)}},{key:"refreshResults",value:function(){Object(s.doAction)("rank_math_refresh_results")}},{key:"filterTests",value:function(e){return Object(i.intersection)(e,rankMath.assessor.researchesTests)}},{key:"saveEvent",value:function(){var e=this;if(!Object(i.isUndefined)(this.dataCollector.updateBtn)){var t=!0;this.dataCollector.updateBtn.on("click",(function(n){if(t){n.preventDefault(),e.dataCollector.updateBtn.addClass("disabled").parent().find(".spinner").addClass("is-active"),t=!1;var a=e.saveMeta(),r=e.saveSchemas(a),i=e.saveRedirection(r);return Promise.all([a,r,i]).then((function(){e.dataCollector.updateBtn.removeClass("disabled").trigger("click")})).catch((function(){e.dataCollector.updateBtn.removeClass("disabled").trigger("click")})),!1}}))}}},{key:"saveMeta",value:function(){return new Promise((function(e){var t=Object(l.select)("rank-math").getDirtyMetadata();Object(i.isEmpty)(t)?e(!0):(h()({method:"POST",path:"rankmath/v1/updateMeta",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,meta:t,content:rankMathEditor.assessor.dataCollector.getContent()}}).then((function(){e(!0)})).catch((function(){e(!0)})),Object(l.dispatch)("rank-math").resetDirtyMetadata())}))}},{key:"saveRedirection",value:function(e){return new Promise(function(){var t=g(regeneratorRuntime.mark((function t(n){var a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(a=Object(l.select)("rank-math").getRedirectionItem(),!Object(i.isEmpty)(a)){t.next=6;break}return n(!0),t.abrupt("return");case 6:a.objectID=window.rankMath.objectID,a.objectType=window.rankMath.objectType,a.redirectionSources=rankMathEditor.assessor.dataCollector.getData("permalink"),r=Object(l.dispatch)("rank-math"),o=Object(l.dispatch)("core/notices"),r.resetRedirection(),h()({method:"POST",path:"rankmath/v1/updateRedirection",data:a}).then((function(e){"delete"===e.action?(o.createInfoNotice(e.message,{id:"redirectionNotice"}),r.updateRedirection("redirectionID",0)):"update"===e.action?o.createInfoNotice(e.message,{id:"redirectionNotice"}):"new"===e.action&&(r.updateRedirection("redirectionID",e.id),o.createSuccessNotice(e.message,{id:"redirectionNotice"})),setTimeout((function(){o.removeNotice("redirectionNotice")}),2e3),n(!0)})).catch((function(){n(!0)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"saveSchemas",value:function(e){return new Promise(function(){var t=g(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(a=Object(l.select)("rank-math").getSchemas(),!Object(i.isEmpty)(a)&&Object(l.select)("rank-math").hasSchemaUpdated()){t.next=6;break}return n(!0),t.abrupt("return");case 6:h()({method:"POST",path:"rankmath/v1/updateSchemas",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,schemas:a}}).then((function(){n(!0)})).catch((function(){n(!0)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}],n&&f(t.prototype,n),a&&f(t,a),e}(),v=b,w=n(22),y=n(33);function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.methods=[],this.init=this.init.bind(this),this.refresh=this.refresh.bind(this),Object(s.addAction)("rank_math_loaded","rank-math",this.init)}var t,n,a;return t=e,n=[{key:"init",value:function(){this.methods.length&&rankMathEditor.refresh("content")}},{key:"registerPlugin",value:function(){console.warn("RankMathApp.registerPlugin is deprecated.")}},{key:"refresh",value:function(e){console.warn("RankMathApp.refresh is deprecated, use rankMathEditor.refresh()"),this.methods.push(e)}},{key:"reloadPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";console.warn("RankMathApp.reloadPlugin is deprecated, use rankMathEditor.refresh()"),this.refresh(t)}}],n&&k(t.prototype,n),a&&k(t,a),e}(),_=O,T=n(16),E=n(10);function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateBtn=r()("#publish"),this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1,description:""},this.refresh=this.refresh.bind(this),Object(s.addAction)("rank_math_loaded","rank-math",this.refresh),this.setup(),this.init()}var t,n,a;return t=e,n=[{key:"init",value:function(){var e=this;this.elemTitle.on("input",Object(i.debounce)((function(){e.handleTitleChange(e.elemTitle.val())}),500)).trigger("input"),this.elemDescription.on("input",Object(i.debounce)((function(){e.handleExcerptChange(e.elemDescription.val())}),500)).trigger("input"),this.elemSlug.on("input",Object(i.debounce)((function(){rankMathEditor.updatePermalink(e.elemSlug.val())}),500))}},{key:"collectData",value:function(){this._data={id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getContent(),title:this.getTitle(),excerpt:this.getExcerpt(),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return rankMath.objectID}},{key:"getTitle",value:function(){return this.elemTitle.val()}},{key:"getExcerpt",value:function(){var e=this.elemDescription.val();return E.a.setVariable("excerpt",e),E.a.setVariable("excerpt_only",e),E.a.setVariable("wc_shortdesc",e),E.a.setVariable("seo_description",e),e}},{key:"getPermalink",value:function(){return this.getSlug()?rankMath.permalinkFormat.replace(/%(postname|pagename|term|author)%/,this.getSlug()):""}},{key:"getSlug",value:function(){return this.elemSlug.val()}},{key:"getFeaturedImage",value:function(){return this.featuredImage}},{key:"refresh",value:function(){this.collectData(),Object(l.dispatch)("rank-math").toggleLoaded(!0),rankMathEditor.refresh("init")}},{key:"handleSlugChange",value:function(e){this.elemSlug.val(e),r()("#editable-post-name").text(e),r()("#editable-post-name-full").text(e),this._data.slug=this.getSlug(),this._data.permalink=this.getPermalink(),Object(l.dispatch)("rank-math").updateSerpSlug(e),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(e){E.a.setVariable("title",e),E.a.setVariable("term",e),E.a.setVariable("author",e),Object(l.dispatch)("rank-math").updateSerpTitle(Object(l.select)("rank-math").getTitle()),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(){this._data.excerpt=this.getExcerpt(),Object(l.dispatch)("rank-math").updateSerpDescription(Object(l.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"handleFeaturedImageChange",value:function(){this._data.featuredImage=this.getFeaturedImage(),Object(l.dispatch)("rank-math").updateFeaturedImage(this.getFeaturedImage()),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){this._data.excerpt=this.getExcerpt(),this._data.content=this.getContent(),Object(l.dispatch)("rank-math").updateSerpDescription(Object(l.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?this._data[e]:this._data}},{key:"updateData",value:function(e,t){this._data[e]=t}},{key:"isTinymce",value:function(){return"undefined"!=typeof tinymce}}],n&&j(t.prototype,n),a&&j(t,a),e}(),D=S;function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P(e);if(t){var r=P(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(l,e);var t,n,a,o=N(l);function l(){return C(this,l),o.apply(this,arguments)}return t=l,(n=[{key:"setup",value:function(){this.elemSlug=r()("#post_name"),this.elemTitle=r()("#title"),this.elemDescription=r()("#excerpt"),this.elemContent=r()("#content"),this.editableName=r()("#editable-post-name-full"),this.assessThumbnail=this.assessThumbnail.bind(this),Object(s.addAction)("rank_math_updated_featured_image","rank-math",this.assessThumbnail),this.events()}},{key:"getContent",value:function(){if(null!==this.elemContent&&0!==this.elemContent.length)return this.isTinymce()&&tinymce.activeEditor&&"content"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemContent.val()}},{key:"getSlug",value:function(){var e=""===this.elemSlug.val()&&this.editableName.length?this.editableName.text():this.elemSlug.val();return Object(i.isUndefined)(e)?"":e}},{key:"events",value:function(){var e=this;this.elemContent.on("input change",Object(i.debounce)((function(){e.handleContentChange()}),500)).trigger("change"),r()(window).on("load",(function(){e.isTinymce()&&(tinymce.activeEditor&&!Object(i.isUndefined)(tinymce.editors.content)&&tinymce.editors.content.on("keyup change",Object(i.debounce)((function(){e.handleContentChange()}),500)),tinymce.editors&&!Object(i.isUndefined)(tinymce.editors.excerpt)&&tinymce.editors.excerpt.on("keyup change",Object(i.debounce)((function(){tinymce.editors.excerpt.save(),e.handleExcerptChange()}),500)))})),r()(document).on("ajaxComplete",(function(t,n,a){var i="/admin-ajax.php";if(i===a.url.substr(0-i.length)){var o="";"string"==typeof a.data&&-1!==a.data.indexOf("action=sample-permalink")&&(o=""===n.responseText?e.elemTitle.val():r()("<div>"+n.responseText+"</div>").find("#editable-post-name-full").text(),rankMathEditor.updatePermalink(o))}}));var t=!0,n=r()("#save-post");n.on("click",(function(e){if(t){e.preventDefault(),t=!1;var a=rankMathEditor.assessor.saveMeta(),r=rankMathEditor.assessor.saveSchemas(a);Promise.all([a,r]).then((function(){n.trigger("click")})).catch((function(){n.trigger("click")}))}}))}},{key:"assessThumbnail",value:function(e){this.featuredImage={source_url:e.src,alt_text:e.alt},this.handleFeaturedImageChange(e)}}])&&x(t.prototype,n),a&&x(t,a),l}(D),L=R;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=K(e);if(t){var r=K(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(s,e);var t,n,a,o=V(s);function s(){return U(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"setup",value:function(){this.updateBtn=r()('.edit-tag-actions input[type="submit"]'),this.elemSlug=r()("#slug"),this.elemTitle=r()("#name"),this.elemDescription=r()("#rank_math_description_editor"),this.events()}},{key:"getContent",value:function(){return null===this.elemDescription||0===this.elemDescription.length?"":this.isTinymce()&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemDescription.val()}},{key:"events",value:function(){var e=this;r()(window).on("load",(function(){e.isTinymce()&&tinymce.activeEditor&&!Object(i.isUndefined)(tinymce.editors.rank_math_description_editor)&&tinymce.editors.rank_math_description_editor.on("keyup change",Object(i.debounce)((function(){e.handleContentChange()}),500))}))}}])&&B(t.prototype,n),a&&B(t,a),s}(D),W=G;function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Q(e);if(t){var r=Q(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(o,e);var t,n,a,i=X(o);function o(){return q(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"setup",value:function(){this.updateBtn=r()("#submit"),this.elemSlug=r()("#user_login"),this.elemTitle=r()("#display_name"),this.elemDescription=r()("#description")}},{key:"getContent",value:function(){return this.elemDescription.val()}}])&&Y(t.prototype,n),a&&Y(t,a),o}(D),te=ee,ne=n(54),ae=n(55);var re=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"post"===rankMath.objectType&&!1!==rankMath.assessor.primaryTaxonomy&&r()("[data-primary-term]").each((function(){var e=r()(this),t=e.val(),n=e.data("primary-term"),a=r()("#"+n+"div"),i=r()("#"+n+"checklist"),o=i.find("li"),s=i.find('input[type="checkbox"]:checked');o.addClass("rank-math-primary-term-li"),o.find("input").each((function(){var e=r()(this);e.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+e.val()+'" type="radio" name="rank_math_primary_'+n+'"><span>Make Term Primary</span></span>')})),s.each((function(){var e=r()(this).closest("li");e.addClass("term-checked"),n+"-"+t===e.attr("id")&&(e.addClass("term-marked-primary"),e.find(">label .rank-math-make-primary").prop("checked",!0))})),a.on("click",'input[type="checkbox"]',(function(){var t=r()(this).closest("li");if(t.toggleClass("term-checked"),1===i.find("li.term-checked").length||t.hasClass("term-marked-primary")&&!t.hasClass("term-checked")){var n=i.find("li.term-checked:first > label .rank-math-make-primary");0<n.length?n.trigger("click"):(o.removeClass("term-marked-primary"),o.find('input[type="radio"]').prop("checked",!1),e.val(""))}})),a.on("click",".rank-math-make-primary",(function(){var t=r()(this),n=t.closest("li");o.removeClass("term-marked-primary"),n.addClass("term-marked-primary"),e.val(t.val())})),i.on("wpListAddEnd",(function(){i.find("li:not(.rank-math-primary-term-li)").addClass("rank-math-primary-term-li term-checked").find("input").each((function(){var e=r()(this);e.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+e.val()+'" type="radio" name="rank_math_primary_'+n+'"><span>Make Term Primary</span></span>')}))}))}))};function ie(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image_src="",this.image_alt="",this.getFeaturedImage(),this.setImage(),this.removeImage(),Object(w.a)()&&this.gutenbergImage()}var t,n,a;return t=e,(n=[{key:"setImage",value:function(){var e=this;if(!Object(i.isUndefined)(wp.media)){var t=wp.media.featuredImage.frame();t.on("select",(function(){var n=r()("#rank_math_post_thumbnail"),a=t.state().get("selection").first().toJSON();e.sizeWarning(a),1>n.length&&(n=r()('<img id="rank_math_post_thumbnail" />'),r()(".facebook-thumbnail",".rank-math-social-preview-image").before(n)),"large"in a.sizes?n.attr("src",a.sizes.large.url):n.attr("src",a.sizes.full.url),e.setFeaturedImage(a)}))}}},{key:"removeImage",value:function(){var e=this;r()("#postimagediv").on("click","#remove-post-thumbnail",(function(){r()("#rank_math_image_warning").remove(),r()("#rank_math_post_thumbnail").remove(),e.setFeaturedImage("")}))}},{key:"gutenbergImage",value:function(){var e,t,n=this;wp.data.subscribe((function(){var a=wp.data.select("core/editor").getEditedPostAttribute("featured_media");n.isValidMediaId(a)&&(e=wp.data.select("core").getMedia(a),Object(i.isUndefined)(e)||e!==t&&(t=e,n.setFeaturedImage({url:e.guid.rendered,alt:e.alt_text})))}))}},{key:"setFeaturedImage",value:function(e){var t={src:Object(i.get)(e,"url",""),alt:Object(i.get)(e,"alt","")};Object(s.doAction)("rank_math_updated_featured_image",t)}},{key:"sizeWarning",value:function(e){if(r()("#rank_math_image_warning").remove(),!(200<e.width&&200<e.height)){var t=r()("#postimagediv").find(".hndle");r()('<div id="rank_math_image_warning" class="notice notice-error notice-alt"><p>'+rankMath.featuredImageNotice+"</p></div>").insertAfter(t)}}},{key:"getFeaturedImage",value:function(){var e=r()("#postimagediv img");if(!e||e.length){var t={url:e[0].src,alt:e[0].alt};this.setFeaturedImage(t)}}},{key:"isValidMediaId",value:function(e){return"number"==typeof e&&0<e}}])&&ie(t.prototype,n),a&&ie(t,a),e}(),se=n(38),le=n(20),ce=n(21),ue=n(19);function pe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var de=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"setup",value:function(){Object(T.a)(),this.registerSlots=this.registerSlots.bind(this),Object(s.addAction)("rank_math_loaded","rank-math",this.registerSlots,0),this.resultManager=new o.ResultManager,this.assessor=new v(this.getCollector()),new y.a,this.registerComponents=this.registerComponents.bind(this),Object(s.addAction)("rank_math_loaded","rank-math",this.registerComponents,11)}},{key:"registerSlots",value:function(){this.RankMathAfterEditor=le.a,this.RankMathAfterFocusKeyword=ue.a,this.RankMathAdvancedTab=ce.a,this.slots={AfterEditor:le.a,AfterFocusKeyword:ue.a,AdvancedTab:ce.a}}},{key:"registerComponents",value:function(){this.components={},this.components.linkSuggestions=new ae.a,this.components.primaryTerm=new re,this.components.featuredImage=new oe,rankMathAdmin.variableInserter(!1),setTimeout((function(){Object(c.render)(Object(c.createElement)(se.a),document.getElementById("rank-math-metabox-wrapper"))}),1e3)}},{key:"refresh",value:function(e){this.assessor.refresh(e)}},{key:"updatePermalink",value:function(e){this.assessor.dataCollector.handleSlugChange(e),Object(l.dispatch)("rank-math").updatePermalink(e)}},{key:"updatePermalinkSanitize",value:function(e){e=this.assessor.getResearch("slugify")(e),Object(l.dispatch)("rank-math").updatePermalink(e)}},{key:"getPrimaryKeyword",value:function(){return o.Helpers.removeDiacritics(this.assessor.getPrimaryKeyword())}},{key:"getSelectedKeyword",value:function(){var e=this.assessor.getSelectedKeyword();return Object(i.isUndefined)(e)?"":o.Helpers.removeDiacritics(e)}},{key:"getCollector",value:function(){return"post"===rankMath.objectType?Object(w.a)()?new ne.a:new L(this):"term"===rankMath.objectType?new W:"user"===rankMath.objectType?new te:void 0}}])&&pe(t.prototype,n),a&&pe(t,a),e}();r()((function(){window.rankMathEditor=new de,window.rankMathEditor.setup(),window.RankMathApp=new _})),r()(window).on("load",(function(){r.a.when(r.a.ready).then((function(){Object(s.doAction)("rank_math_loaded")}))}))}]);